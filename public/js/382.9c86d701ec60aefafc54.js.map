{"version":3,"file":"js/382.9c86d701ec60aefafc54.js","mappings":"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","sources":["webpack://knockoffarcade-enterprise/./src/js/systems/HighScoreManager.js","webpack://knockoffarcade-enterprise/./src/js/systems/AudioManager.js","webpack://knockoffarcade-enterprise/./src/js/Game.js"],"sourcesContent":["/**\n * High Score Manager for KnockoffArcade\n * Handles high score storage, retrieval, and management\n */\n\nexport class HighScoreManager {\n  constructor() {\n    this.storageKey = 'knockoffarcade_highscores';\n    this.maxScores = 10;\n    this.highScores = this.loadHighScores();\n  }\n\n  /**\n   * Load high scores from localStorage\n   * @returns {Array} Array of high score entries\n   */\n  loadHighScores() {\n    try {\n      const stored = localStorage.getItem(this.storageKey);\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error('Error loading high scores:', error);\n    }\n    \n    // Return default high scores if none exist\n    return [\n      { name: 'Billy the Kid', score: 50000, level: 10, date: '2024-01-01' },\n      { name: 'Jesse James', score: 40000, level: 9, date: '2024-01-01' },\n      { name: 'Wyatt Earp', score: 30000, level: 8, date: '2024-01-01' },\n      { name: 'Doc Holliday', score: 25000, level: 7, date: '2024-01-01' },\n      { name: 'Wild Bill', score: 20000, level: 6, date: '2024-01-01' },\n      { name: 'Calamity Jane', score: 15000, level: 5, date: '2024-01-01' },\n      { name: 'Buffalo Bill', score: 10000, level: 4, date: '2024-01-01' },\n      { name: 'Annie Oakley', score: 7500, level: 3, date: '2024-01-01' },\n      { name: 'Butch Cassidy', score: 5000, level: 3, date: '2024-01-01' },\n      { name: 'Sundance Kid', score: 2500, level: 2, date: '2024-01-01' }\n    ];\n  }\n\n  /**\n   * Save high scores to localStorage\n   */\n  saveHighScores() {\n    try {\n      localStorage.setItem(this.storageKey, JSON.stringify(this.highScores));\n    } catch (error) {\n      console.error('Error saving high scores:', error);\n    }\n  }\n\n  /**\n   * Check if a score qualifies as a high score\n   * @param {number} score - The score to check\n   * @returns {boolean} True if it's a high score\n   */\n  isHighScore(score) {\n    if (this.highScores.length < this.maxScores) {\n      return true;\n    }\n    return score > this.highScores[this.highScores.length - 1].score;\n  }\n\n  /**\n   * Get the rank for a given score\n   * @param {number} score - The score to check\n   * @returns {number} The rank (1-based), or -1 if not a high score\n   */\n  getRank(score) {\n    for (let i = 0; i < this.highScores.length; i++) {\n      if (score > this.highScores[i].score) {\n        return i + 1;\n      }\n    }\n    if (this.highScores.length < this.maxScores) {\n      return this.highScores.length + 1;\n    }\n    return -1;\n  }\n\n  /**\n   * Add a new high score\n   * @param {string} name - Player name\n   * @param {number} score - Player score\n   * @param {number} level - Level reached\n   * @returns {number} The rank achieved (1-based)\n   */\n  addHighScore(name, score, level) {\n    const entry = {\n      name: name.substring(0, 20), // Limit name length\n      score: score,\n      level: level,\n      date: new Date().toISOString().split('T')[0]\n    };\n\n    // Find insertion position\n    let position = this.highScores.length;\n    for (let i = 0; i < this.highScores.length; i++) {\n      if (score > this.highScores[i].score) {\n        position = i;\n        break;\n      }\n    }\n\n    // Insert at position\n    this.highScores.splice(position, 0, entry);\n\n    // Keep only top scores\n    if (this.highScores.length > this.maxScores) {\n      this.highScores = this.highScores.slice(0, this.maxScores);\n    }\n\n    // Save to localStorage\n    this.saveHighScores();\n\n    return position + 1;\n  }\n\n  /**\n   * Get all high scores\n   * @returns {Array} Array of high score entries\n   */\n  getHighScores() {\n    return [...this.highScores];\n  }\n\n  /**\n   * Clear all high scores\n   */\n  clearHighScores() {\n    this.highScores = [];\n    this.saveHighScores();\n  }\n\n  /**\n   * Format score for display\n   * @param {number} score - The score to format\n   * @returns {string} Formatted score string\n   */\n  formatScore(score) {\n    return score.toLocaleString();\n  }\n\n  /**\n   * Generate HTML for high scores display\n   * @returns {string} HTML string for high scores table\n   */\n  generateHighScoresHTML() {\n    if (this.highScores.length === 0) {\n      return '<p style=\"text-align: center; color: #8b4513;\">No high scores yet!</p>';\n    }\n\n    let html = '<table style=\"width: 100%; border-collapse: collapse;\">';\n    html += '<thead><tr style=\"border-bottom: 2px solid #8b4513;\">';\n    html += '<th style=\"text-align: left; padding: 8px; color: #8b4513;\">Rank</th>';\n    html += '<th style=\"text-align: left; padding: 8px; color: #8b4513;\">Name</th>';\n    html += '<th style=\"text-align: right; padding: 8px; color: #8b4513;\">Score</th>';\n    html += '<th style=\"text-align: center; padding: 8px; color: #8b4513;\">Level</th>';\n    html += '</tr></thead><tbody>';\n\n    this.highScores.forEach((entry, index) => {\n      const medal = index === 0 ? '' : index === 1 ? '' : index === 2 ? '' : '';\n      html += `<tr style=\"border-bottom: 1px solid #deb887;\">`;\n      html += `<td style=\"padding: 8px; color: #5d4037;\">${medal} ${index + 1}</td>`;\n      html += `<td style=\"padding: 8px; color: #5d4037; font-weight: bold;\">${entry.name}</td>`;\n      html += `<td style=\"padding: 8px; text-align: right; color: #8b4513; font-weight: bold;\">${this.formatScore(entry.score)}</td>`;\n      html += `<td style=\"padding: 8px; text-align: center; color: #5d4037;\">${entry.level}</td>`;\n      html += '</tr>';\n    });\n\n    html += '</tbody></table>';\n    return html;\n  }\n}\n\nexport default HighScoreManager;","/**\n * Audio Manager for KnockoffArcade\n * Handles all sound effects and background music\n */\n\nexport class AudioManager {\n  constructor() {\n    this.sounds = new Map();\n    this.context = null;\n    this.masterVolume = 0.7;\n    this.sfxVolume = 0.8;\n    this.musicVolume = 0.3;\n    this.musicVolumeReduced = 0.01;\n    this.voiceVolume = 1.5;\n    this.isInitialized = false;\n    this.isMuted = false;\n    this.userHasInteracted = false;\n    this.hasPlayedFirstTrack = false;\n\n    // Music system\n    this.backgroundMusic = null;\n    this.spikeMusic = null;\n    this.currentMusic = null;\n    this.musicGain = null;\n    this.currentMusicSource = null; // Track current audio source\n\n    // Western-themed sound definitions\n    this.soundDefinitions = {\n      // Gunshot for paddle hits\n      paddleHit: {\n        type: 'gunshot',\n        duration: 0.15,\n        volume: 0.8,\n        envelope: { attack: 0.001, decay: 0.05, sustain: 0.1, release: 0.094 }\n      },\n\n      // Spittoon pings for brick breaking (different pitches)\n      brickBreak1: {\n        type: 'spittoon',\n        frequency: 800,\n        duration: 0.2,\n        volume: 0.7,\n        envelope: { attack: 0.01, decay: 0.1, sustain: 0.3, release: 0.09 }\n      },\n\n      brickBreak2: {\n        type: 'spittoon',\n        frequency: 600,\n        duration: 0.18,\n        volume: 0.6,\n        envelope: { attack: 0.01, decay: 0.08, sustain: 0.4, release: 0.09 }\n      },\n\n      brickBreak3: {\n        type: 'spittoon',\n        frequency: 400,\n        duration: 0.22,\n        volume: 0.5,\n        envelope: { attack: 0.01, decay: 0.12, sustain: 0.5, release: 0.08 }\n      },\n\n      // Saloon door creak for power-ups\n      powerUpCollect: {\n        type: 'saloon_door',\n        startFreq: 200,\n        endFreq: 150,\n        duration: 0.4,\n        volume: 0.6,\n        envelope: { attack: 0.05, decay: 0.1, sustain: 0.7, release: 0.25 }\n      },\n\n      // Dramatic \"Aww shucks\" whistle for ball lost\n      ballLost: {\n        type: 'whistle_down',\n        startFreq: 800,\n        endFreq: 200,\n        duration: 0.8,\n        volume: 0.8,\n        envelope: { attack: 0.1, decay: 0.2, sustain: 0.4, release: 0.3 }\n      },\n\n      // Victory harmonica melody\n      levelComplete: {\n        type: 'harmonica',\n        notes: [392, 440, 523, 659, 784], // G4, A4, C5, E5, G5 - Western scale\n        duration: 1.2,\n        volume: 0.7,\n        envelope: { attack: 0.1, decay: 0.05, sustain: 0.8, release: 0.05 }\n      },\n\n      // Dramatic Western chord progression\n      gameOver: {\n        type: 'western_chord',\n        chords: [\n          [220, 277, 330], // A minor\n          [196, 247, 294], // G minor\n          [175, 220, 262]  // F minor\n        ],\n        duration: 1.5,\n        volume: 0.9,\n        envelope: { attack: 0.2, decay: 0.3, sustain: 0.6, release: 0.4 }\n      },\n\n      // \"Yeehaw!\" vocal effects for combos\n      combo3: {\n        type: 'yeehaw',\n        formants: [800, 1200, 2500], // Vocal formants for \"Yee\"\n        duration: 0.3,\n        volume: 0.5,\n        envelope: { attack: 0.02, decay: 0.1, sustain: 0.6, release: 0.18 }\n      },\n\n      combo5: {\n        type: 'yeehaw',\n        formants: [600, 1000, 2200], // \"Haw\" formants\n        duration: 0.4,\n        volume: 0.6,\n        envelope: { attack: 0.02, decay: 0.1, sustain: 0.7, release: 0.28 }\n      },\n\n      combo10: {\n        type: 'yeehaw_big',\n        formants: [500, 900, 2000], // Big \"YEEHAW!\"\n        duration: 0.6,\n        volume: 0.8,\n        envelope: { attack: 0.02, decay: 0.1, sustain: 0.8, release: 0.48 }\n      },\n\n      // Spur jingle for menu sounds\n      menuSelect: {\n        type: 'spur',\n        frequency: 1200,\n        duration: 0.1,\n        volume: 0.4,\n        envelope: { attack: 0.01, decay: 0.03, sustain: 0.2, release: 0.06 }\n      },\n\n      // Horse whinny for menu confirm\n      menuConfirm: {\n        type: 'whinny',\n        startFreq: 400,\n        endFreq: 800,\n        duration: 0.25,\n        volume: 0.5,\n        envelope: { attack: 0.02, decay: 0.08, sustain: 0.4, release: 0.15 }\n      }\n    };\n\n    // Don't initialize audio until user interaction\n  }\n\n  async initializeAudio() {\n    try {\n      // Create Web Audio API context\n      const AudioContextClass = window.AudioContext || window.webkitAudioContext;\n      this.context = new AudioContextClass();\n\n      // Create master gain node\n      this.masterGain = this.context.createGain();\n      this.masterGain.gain.value = this.masterVolume;\n      this.masterGain.connect(this.context.destination);\n\n      // Create music gain node\n      this.musicGain = this.context.createGain();\n      this.musicGain.gain.value = this.musicVolume;\n      this.musicGain.connect(this.masterGain);\n\n      this.isInitialized = true;\n      console.log('AudioManager initialized successfully');\n    } catch (error) {\n      console.warn('Failed to initialize Web Audio API:', error);\n      this.isInitialized = false;\n    }\n  }\n\n  async resumeContext() {\n    if (this.context && this.context.state === 'suspended') {\n      await this.context.resume();\n    }\n  }\n\n  async playSound(soundName, options = {}) {\n    // Don't play anything if user hasn't interacted yet\n    if (!this.userHasInteracted) {\n      console.log('Audio blocked - waiting for user interaction');\n      return;\n    }\n\n    // Initialize audio on first call (after user interaction)\n    if (!this.isInitialized) {\n      await this.initializeAudio();\n    }\n\n    if (!this.isInitialized || this.isMuted || !this.context) {\n      return;\n    }\n\n    await this.resumeContext();\n\n    const soundDef = this.soundDefinitions[soundName];\n    if (!soundDef) {\n      console.warn(`Sound '${soundName}' not found`);\n      return;\n    }\n\n    const volume = (options.volume || soundDef.volume) * this.sfxVolume;\n    const now = this.context.currentTime;\n\n    switch (soundDef.type) {\n      case 'gunshot':\n        this.playGunshot(soundDef, volume, now);\n        break;\n      case 'spittoon':\n        this.playSpittoon(soundDef, volume, now);\n        break;\n      case 'saloon_door':\n        this.playSaloonDoor(soundDef, volume, now);\n        break;\n      case 'whistle_down':\n        this.playWhistleDown(soundDef, volume, now);\n        break;\n      case 'harmonica':\n        this.playHarmonica(soundDef, volume, now);\n        break;\n      case 'western_chord':\n        this.playWesternChord(soundDef, volume, now);\n        break;\n      case 'yeehaw':\n        this.playYeehaw(soundDef, volume, now);\n        break;\n      case 'yeehaw_big':\n        this.playYeehawBig(soundDef, volume, now);\n        break;\n      case 'spur':\n        this.playSpur(soundDef, volume, now);\n        break;\n      case 'whinny':\n        this.playWhinny(soundDef, volume, now);\n        break;\n    }\n  }\n\n  playGunshot(soundDef, volume, startTime) {\n    // Create realistic gunshot with multiple components\n    this.createGunshotBang(volume, startTime);\n    this.createGunshotEcho(volume * 0.4, startTime + 0.1);\n    this.createRicochet(volume * 0.6, startTime + 0.05);\n  }\n\n  createGunshotBang(volume, startTime) {\n    // Sharp crack sound\n    const bufferSize = this.context.sampleRate * 0.1;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    // Generate explosive noise with realistic profile\n    for (let i = 0; i < bufferSize; i++) {\n      const t = i / bufferSize;\n      const envelope = Math.exp(-t * 50) * (1 - t); // Sharp attack, quick decay\n      const noise = (Math.random() * 2 - 1);\n      const crack = Math.sin(t * Math.PI * 200) * Math.exp(-t * 30); // Sharp crack component\n      output[i] = (noise * 0.7 + crack * 0.3) * envelope;\n    }\n\n    const source = this.context.createBufferSource();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    source.buffer = buffer;\n    filter.type = 'highpass';\n    filter.frequency.setValueAtTime(400, startTime);\n    filter.Q.setValueAtTime(1, startTime);\n\n    gainNode.gain.setValueAtTime(volume, startTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + 0.1);\n\n    source.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    source.start(startTime);\n  }\n\n  createGunshotEcho(volume, startTime) {\n    // Canyon echo effect\n    const delay = this.context.createDelay(0.5);\n    const feedback = this.context.createGain();\n    const wetGain = this.context.createGain();\n\n    delay.delayTime.setValueAtTime(0.15, startTime);\n    feedback.gain.setValueAtTime(0.3, startTime);\n    wetGain.gain.setValueAtTime(volume, startTime);\n\n    // Create echo source\n    const echoOsc = this.context.createOscillator();\n    const echoGain = this.context.createGain();\n\n    echoOsc.type = 'sawtooth';\n    echoOsc.frequency.setValueAtTime(100, startTime);\n    echoOsc.frequency.linearRampToValueAtTime(50, startTime + 0.8);\n\n    echoGain.gain.setValueAtTime(0, startTime);\n    echoGain.gain.linearRampToValueAtTime(volume * 0.3, startTime + 0.1);\n    echoGain.gain.exponentialRampToValueAtTime(0.001, startTime + 0.8);\n\n    echoOsc.connect(echoGain);\n    echoGain.connect(delay);\n    delay.connect(feedback);\n    feedback.connect(delay);\n    delay.connect(wetGain);\n    wetGain.connect(this.masterGain);\n\n    echoOsc.start(startTime);\n    echoOsc.stop(startTime + 0.8);\n  }\n\n  createRicochet(volume, startTime) {\n    // Ricochet whine\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(800, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(200, startTime + 0.4);\n    oscillator.frequency.linearRampToValueAtTime(150, startTime + 0.6);\n\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.05);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + 0.6);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + 0.6);\n  }\n\n  playSpittoon(soundDef, volume, startTime) {\n    // Create metallic ping sound\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n    const filter = this.context.createBiquadFilter();\n\n    oscillator.type = 'triangle';\n    oscillator.frequency.setValueAtTime(soundDef.frequency, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(soundDef.frequency * 0.7, startTime + soundDef.duration);\n\n    // Add metallic resonance\n    filter.type = 'peaking';\n    filter.frequency.setValueAtTime(soundDef.frequency * 2, startTime);\n    filter.Q.setValueAtTime(15, startTime);\n    filter.gain.setValueAtTime(6, startTime);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  // PLACEHOLDER METHODS - Updated to use spittoon\n  playSweep(soundDef, volume, startTime) {\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sawtooth';\n    oscillator.frequency.setValueAtTime(soundDef.startFreq, startTime);\n    oscillator.frequency.linearRampToValueAtTime(soundDef.endFreq, startTime + soundDef.duration);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  playDescending(soundDef, volume, startTime) {\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'triangle';\n    oscillator.frequency.setValueAtTime(soundDef.startFreq, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(soundDef.endFreq, startTime + soundDef.duration);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  // LEGACY METHOD - Updated to use harmonica\n  playMelody(soundDef, volume, startTime) {\n    this.playHarmonica(soundDef, volume, startTime);\n  }\n\n  // LEGACY METHOD - Updated to use western chord\n  playDramatic(soundDef, volume, startTime) {\n    this.playWesternChord(soundDef, volume, startTime);\n  }\n\n  // LEGACY METHOD - Updated to use whinny\n  playRising(soundDef, volume, startTime) {\n    this.playWhinny(soundDef, volume, startTime);\n  }\n\n  // LEGACY METHOD - Updated to use spur\n  playBlip(soundDef, volume, startTime) {\n    this.playSpur(soundDef, volume, startTime);\n  }\n\n  // LEGACY METHOD - Updated to use whinny\n  playConfirm(soundDef, volume, startTime) {\n    this.playWhinny(soundDef, volume, startTime);\n  }\n\n  playSaloonDoor(soundDef, volume, startTime) {\n    // Create creaky door sound\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sawtooth';\n    oscillator.frequency.setValueAtTime(soundDef.startFreq, startTime);\n    oscillator.frequency.linearRampToValueAtTime(soundDef.endFreq, startTime + soundDef.duration * 0.3);\n    oscillator.frequency.setValueAtTime(soundDef.endFreq, startTime + soundDef.duration * 0.3);\n    oscillator.frequency.linearRampToValueAtTime(soundDef.startFreq * 0.9, startTime + soundDef.duration);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  playWhistleDown(soundDef, volume, startTime) {\n    // Create descending whistle\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(soundDef.startFreq, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(soundDef.endFreq, startTime + soundDef.duration);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  playHarmonica(soundDef, volume, startTime) {\n    // Authentic harmonica with reed simulation and bends\n    const noteDuration = soundDef.duration / soundDef.notes.length;\n\n    soundDef.notes.forEach((frequency, index) => {\n      const noteStartTime = startTime + (index * noteDuration);\n      this.createHarmonicaNote(frequency, volume * 0.8, noteStartTime, noteDuration);\n    });\n  }\n\n  createHarmonicaNote(frequency, volume, startTime, duration) {\n    // Multiple oscillators to simulate harmonica reed overtones\n    const fundamental = this.context.createOscillator();\n    const overtone1 = this.context.createOscillator();\n    const overtone2 = this.context.createOscillator();\n\n    // Vibrato oscillators\n    const vibrato = this.context.createOscillator();\n    const vibratoGain = this.context.createGain();\n\n    // Filter for reed resonance\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    // Main fundamental frequency with slight detuning\n    fundamental.type = 'sawtooth';\n    fundamental.frequency.setValueAtTime(frequency, startTime);\n\n    // Add slight bend at the beginning (characteristic of harmonica)\n    fundamental.frequency.linearRampToValueAtTime(frequency * 0.98, startTime + 0.05);\n    fundamental.frequency.linearRampToValueAtTime(frequency, startTime + 0.1);\n\n    // Overtones for rich harmonica timbre\n    overtone1.type = 'triangle';\n    overtone1.frequency.setValueAtTime(frequency * 2, startTime);\n\n    overtone2.type = 'sine';\n    overtone2.frequency.setValueAtTime(frequency * 3, startTime);\n\n    // Vibrato (characteristic harmonica wobble)\n    vibrato.type = 'sine';\n    vibrato.frequency.setValueAtTime(5.5, startTime); // 5.5Hz vibrato\n    vibratoGain.gain.setValueAtTime(frequency * 0.02, startTime); // 2% vibrato depth\n\n    vibrato.connect(vibratoGain);\n    vibratoGain.connect(fundamental.frequency);\n    vibratoGain.connect(overtone1.frequency);\n\n    // Reed resonance filter\n    filter.type = 'bandpass';\n    filter.frequency.setValueAtTime(frequency * 2, startTime);\n    filter.Q.setValueAtTime(3, startTime);\n\n    // Mix oscillators\n    const mixer = this.context.createGain();\n    const overtone1Gain = this.context.createGain();\n    const overtone2Gain = this.context.createGain();\n\n    overtone1Gain.gain.setValueAtTime(0.3, startTime);\n    overtone2Gain.gain.setValueAtTime(0.15, startTime);\n\n    fundamental.connect(mixer);\n    overtone1.connect(overtone1Gain);\n    overtone1Gain.connect(mixer);\n    overtone2.connect(overtone2Gain);\n    overtone2Gain.connect(mixer);\n\n    mixer.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    // Harmonica breathing envelope (soft attack, sustain, gentle release)\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.1);\n    gainNode.gain.setValueAtTime(volume * 0.9, startTime + duration * 0.7);\n    gainNode.gain.linearRampToValueAtTime(volume * 0.3, startTime + duration * 0.9);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);\n\n    // Start all oscillators\n    fundamental.start(startTime);\n    overtone1.start(startTime);\n    overtone2.start(startTime);\n    vibrato.start(startTime);\n\n    // Stop all oscillators\n    fundamental.stop(startTime + duration);\n    overtone1.stop(startTime + duration);\n    overtone2.stop(startTime + duration);\n    vibrato.stop(startTime + duration);\n  }\n\n  playWesternChord(soundDef, volume, startTime) {\n    // Play dramatic chord progression\n    const chordDuration = soundDef.duration / soundDef.chords.length;\n\n    soundDef.chords.forEach((chord, chordIndex) => {\n      const chordStartTime = startTime + (chordIndex * chordDuration);\n\n      chord.forEach((frequency, noteIndex) => {\n        const oscillator = this.context.createOscillator();\n        const gainNode = this.context.createGain();\n\n        oscillator.type = 'sawtooth';\n        oscillator.frequency.setValueAtTime(frequency, chordStartTime);\n\n        const noteVolume = volume / chord.length; // Distribute volume across notes\n        this.applyEnvelope(gainNode.gain, soundDef.envelope, noteVolume, chordStartTime, chordDuration);\n\n        oscillator.connect(gainNode);\n        gainNode.connect(this.masterGain);\n\n        oscillator.start(chordStartTime);\n        oscillator.stop(chordStartTime + chordDuration);\n      });\n    });\n  }\n\n  playYeehaw(soundDef, volume, startTime) {\n    // Create vocal formants for \"Yeehaw\"\n    soundDef.formants.forEach((formant, index) => {\n      const oscillator = this.context.createOscillator();\n      const filter = this.context.createBiquadFilter();\n      const gainNode = this.context.createGain();\n\n      oscillator.type = 'sawtooth';\n      oscillator.frequency.setValueAtTime(150 + index * 50, startTime); // Base frequency\n\n      filter.type = 'peaking';\n      filter.frequency.setValueAtTime(formant, startTime);\n      filter.Q.setValueAtTime(5, startTime);\n      filter.gain.setValueAtTime(10, startTime);\n\n      const formantVolume = volume / soundDef.formants.length;\n      this.applyEnvelope(gainNode.gain, soundDef.envelope, formantVolume, startTime, soundDef.duration);\n\n      oscillator.connect(filter);\n      filter.connect(gainNode);\n      gainNode.connect(this.masterGain);\n\n      oscillator.start(startTime);\n      oscillator.stop(startTime + soundDef.duration);\n    });\n  }\n\n  playYeehawBig(soundDef, volume, startTime) {\n    // Big \"YEEHAW!\" with more formants and vibrato\n    soundDef.formants.forEach((formant, index) => {\n      const oscillator = this.context.createOscillator();\n      const vibrato = this.context.createOscillator();\n      const vibratoGain = this.context.createGain();\n      const filter = this.context.createBiquadFilter();\n      const gainNode = this.context.createGain();\n\n      oscillator.type = 'sawtooth';\n      const baseFreq = 120 + index * 60;\n      oscillator.frequency.setValueAtTime(baseFreq, startTime);\n\n      // Add vibrato\n      vibrato.type = 'sine';\n      vibrato.frequency.setValueAtTime(5, startTime);\n      vibratoGain.gain.setValueAtTime(10, startTime);\n      vibrato.connect(vibratoGain);\n      vibratoGain.connect(oscillator.frequency);\n\n      filter.type = 'peaking';\n      filter.frequency.setValueAtTime(formant, startTime);\n      filter.Q.setValueAtTime(8, startTime);\n      filter.gain.setValueAtTime(15, startTime);\n\n      const formantVolume = volume / soundDef.formants.length;\n      this.applyEnvelope(gainNode.gain, soundDef.envelope, formantVolume, startTime, soundDef.duration);\n\n      oscillator.connect(filter);\n      filter.connect(gainNode);\n      gainNode.connect(this.masterGain);\n\n      oscillator.start(startTime);\n      vibrato.start(startTime);\n      oscillator.stop(startTime + soundDef.duration);\n      vibrato.stop(startTime + soundDef.duration);\n    });\n  }\n\n  playSpur(soundDef, volume, startTime) {\n    // Create spur jingle sound\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'triangle';\n    oscillator.frequency.setValueAtTime(soundDef.frequency, startTime);\n    oscillator.frequency.linearRampToValueAtTime(soundDef.frequency * 1.2, startTime + soundDef.duration * 0.3);\n    oscillator.frequency.linearRampToValueAtTime(soundDef.frequency, startTime + soundDef.duration);\n\n    this.applyEnvelope(gainNode.gain, soundDef.envelope, volume, startTime, soundDef.duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + soundDef.duration);\n  }\n\n  playWhinny(soundDef, volume, startTime) {\n    // Realistic horse whinny with multiple components\n    this.createWhinnyCall(soundDef, volume, startTime);\n    this.createWhinnyBreathe(volume * 0.6, startTime + 0.1);\n    this.createWhinnyTail(volume * 0.4, startTime + soundDef.duration * 0.7);\n  }\n\n  createWhinnyCall(soundDef, volume, startTime) {\n    // Main whinny call with characteristic frequency sweep\n    const osc1 = this.context.createOscillator();\n    const osc2 = this.context.createOscillator();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    // Two oscillators for richer timbre\n    osc1.type = 'sawtooth';\n    osc2.type = 'triangle';\n\n    // Characteristic horse whinny frequency pattern\n    osc1.frequency.setValueAtTime(soundDef.startFreq, startTime);\n    osc1.frequency.linearRampToValueAtTime(soundDef.endFreq, startTime + 0.1);\n    osc1.frequency.linearRampToValueAtTime(soundDef.startFreq * 0.7, startTime + 0.15);\n    osc1.frequency.linearRampToValueAtTime(soundDef.endFreq * 1.2, startTime + 0.2);\n    osc1.frequency.exponentialRampToValueAtTime(soundDef.startFreq * 0.6, startTime + soundDef.duration);\n\n    // Second oscillator slightly detuned\n    osc2.frequency.setValueAtTime(soundDef.startFreq * 1.02, startTime);\n    osc2.frequency.linearRampToValueAtTime(soundDef.endFreq * 1.02, startTime + 0.1);\n    osc2.frequency.linearRampToValueAtTime(soundDef.startFreq * 0.72, startTime + 0.15);\n    osc2.frequency.linearRampToValueAtTime(soundDef.endFreq * 1.22, startTime + 0.2);\n    osc2.frequency.exponentialRampToValueAtTime(soundDef.startFreq * 0.62, startTime + soundDef.duration);\n\n    // Filter to simulate horse vocal tract\n    filter.type = 'lowpass';\n    filter.frequency.setValueAtTime(800, startTime);\n    filter.frequency.linearRampToValueAtTime(1200, startTime + 0.1);\n    filter.frequency.linearRampToValueAtTime(600, startTime + soundDef.duration);\n    filter.Q.setValueAtTime(2, startTime);\n\n    // Whinny envelope (sharp attack, irregular sustain)\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.03);\n    gainNode.gain.setValueAtTime(volume * 0.8, startTime + 0.1);\n    gainNode.gain.linearRampToValueAtTime(volume * 0.9, startTime + 0.15);\n    gainNode.gain.setValueAtTime(volume * 0.6, startTime + 0.2);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + soundDef.duration);\n\n    osc1.connect(filter);\n    osc2.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    osc1.start(startTime);\n    osc2.start(startTime);\n    osc1.stop(startTime + soundDef.duration);\n    osc2.stop(startTime + soundDef.duration);\n  }\n\n  createWhinnyBreathe(volume, startTime) {\n    // Breathing/snort component\n    const bufferSize = this.context.sampleRate * 0.15;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    // Generate breathing noise\n    for (let i = 0; i < bufferSize; i++) {\n      const t = i / bufferSize;\n      const envelope = Math.sin(t * Math.PI) * 0.7;\n      output[i] = (Math.random() * 2 - 1) * envelope;\n    }\n\n    const source = this.context.createBufferSource();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    source.buffer = buffer;\n    filter.type = 'bandpass';\n    filter.frequency.setValueAtTime(300, startTime);\n    filter.Q.setValueAtTime(0.5, startTime);\n\n    gainNode.gain.setValueAtTime(volume, startTime);\n\n    source.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    source.start(startTime);\n  }\n\n  createWhinnyTail(volume, startTime) {\n    // Soft trailing off sound\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(200, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(120, startTime + 0.3);\n\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.05);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + 0.3);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.masterGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + 0.3);\n  }\n\n  applyEnvelope(gainParam, envelope, maxVolume, startTime, duration) {\n    const { attack, decay, sustain, release } = envelope;\n    const sustainLevel = maxVolume * sustain;\n\n    gainParam.setValueAtTime(0, startTime);\n    gainParam.linearRampToValueAtTime(maxVolume, startTime + attack);\n    gainParam.linearRampToValueAtTime(sustainLevel, startTime + attack + decay);\n    gainParam.setValueAtTime(sustainLevel, startTime + duration - release);\n    gainParam.exponentialRampToValueAtTime(0.001, startTime + duration);\n  }\n\n  // Random brick break sound selection\n  playBrickBreak() {\n    const sounds = ['brickBreak1', 'brickBreak2', 'brickBreak3'];\n    const randomSound = sounds[Math.floor(Math.random() * sounds.length)];\n    this.playSound(randomSound);\n  }\n\n  // Combo sound based on combo count\n  playComboSound(comboCount) {\n    if (comboCount >= 10) {\n      this.playSound('combo10');\n    } else if (comboCount >= 5) {\n      this.playSound('combo5');\n    } else if (comboCount >= 3) {\n      this.playSound('combo3');\n    }\n  }\n\n  // Music system methods\n  // REMOVED: createBackgroundMusic() - We only use audio files now\n\n  // REMOVED: createSpikeMusic() - We only use audio files now\n\n  async startBackgroundMusic() {\n    console.log('startBackgroundMusic called');\n\n    // Mark that user has interacted\n    this.userHasInteracted = true;\n\n    // Initialize audio on first call (after user interaction)\n    if (!this.isInitialized) {\n      console.log('Initializing audio after user interaction');\n      await this.initializeAudio();\n    }\n\n    console.log('Audio context state:', this.context ? this.context.state : 'no context');\n    console.log('Is initialized:', this.isInitialized);\n    console.log('Is muted:', this.isMuted);\n\n    // Setup music files if not already done\n    if (!this.musicFiles) {\n      this.musicFiles = [\n        './assets/sounds/harmonica 1 tunes - bar 141 - Eitan Epstein Music - main.wav',\n        './assets/sounds/The Western short version.wav',\n        './assets/sounds/Western.mp3',\n        './assets/sounds/Western (Full Version).mp3',\n        './assets/sounds/Country Western/Country Western 01.mp3',\n        './assets/sounds/Country/Country.mp3',\n        './assets/sounds/Country Ways.mp3',\n        './assets/sounds/Lady Fortune.mp3',\n        './assets/sounds/Traveling Through.mp3',\n        './assets/sounds/CountryHoedown_96_JHungerX.wav',\n        './assets/sounds/Funny Country.wav',\n        './assets/sounds/Uplifting Country 2.wav',\n        './assets/sounds/acd c tunes 02a - bar 1225 - eitan-ep - main.wav'\n      ];\n      this.currentTrackIndex = 0;\n    }\n\n    // Stop any currently playing music to prevent overlapping\n    this.stopCurrentMusic();\n\n    // Set current music to audio files only - NO SYNTHESIZED MUSIC!\n    this.currentMusic = { melody: 'audio_files', type: 'background', startTime: this.context.currentTime };\n\n    // Play audio files directly\n    this.playNextAudioTrack();\n  }\n\n  startSpikeMusic() {\n    // Don't interrupt the WAV file music for spike events\n    // The WAV files are the primary music system now\n    return;\n  }\n\n\n  async playNextAudioTrack() {\n    if (!this.isInitialized || this.isMuted || !this.currentMusic) return;\n\n    try {\n      // Ensure audio context is resumed (required by modern browsers)\n      await this.resumeContext();\n\n      // Cycle through main songs only\n      const trackPath = this.musicFiles[this.currentTrackIndex % this.musicFiles.length];\n      console.log(`Loading main song: ${trackPath}`);\n\n      // Fetch and decode the audio file\n      const response = await fetch(trackPath);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch ${trackPath}: ${response.status}`);\n      }\n\n      const arrayBuffer = await response.arrayBuffer();\n      const audioBuffer = await this.context.decodeAudioData(arrayBuffer);\n      console.log(`Track loaded: ${trackPath}, duration: ${audioBuffer.duration}s`);\n\n      // Create and configure the audio source\n      const source = this.context.createBufferSource();\n      source.buffer = audioBuffer;\n\n      // Store this source so we can stop it if needed\n      this.currentMusicSource = source;\n\n      // Create a gain node for fade-in effect\n      const trackGain = this.context.createGain();\n      source.connect(trackGain);\n      trackGain.connect(this.musicGain);\n\n      // Check if this is the first track (music just started)\n      const isFirstTrack = !this.hasPlayedFirstTrack;\n      if (isFirstTrack) {\n        this.hasPlayedFirstTrack = true;\n      }\n\n      // Set initial volume and fade-in if it's the first track\n      if (isFirstTrack) {\n        trackGain.gain.setValueAtTime(0, this.context.currentTime);\n        trackGain.gain.linearRampToValueAtTime(1, this.context.currentTime + 3); // 3-second fade-in\n        console.log(`Now playing with fade-in: ${trackPath}`);\n      } else {\n        trackGain.gain.setValueAtTime(1, this.context.currentTime);\n        console.log(`Now playing: ${trackPath}`);\n      }\n\n      // Start playing\n      source.start(0);\n\n      // Schedule the next track\n      const trackDuration = audioBuffer.duration;\n      setTimeout(() => {\n        if (this.currentMusic && this.currentMusic.melody === 'audio_files') {\n          // Move to next song\n          this.currentTrackIndex++;\n\n          // Wait 2 seconds between tracks\n          setTimeout(() => {\n            if (this.currentMusic && this.currentMusic.melody === 'audio_files') {\n              this.playNextAudioTrack();\n            }\n          }, 2000);\n        }\n      }, trackDuration * 1000);\n\n    } catch (error) {\n      console.error('Error playing audio track:', error);\n      console.error('Track path:', trackPath);\n      console.error('Audio context state:', this.context.state);\n      console.error('Is initialized:', this.isInitialized);\n      console.error('Is muted:', this.isMuted);\n\n      // Try next track after 3 seconds if current one fails\n      setTimeout(() => {\n        if (this.currentMusic && this.currentMusic.melody === 'audio_files') {\n          // Move to next track and try again\n          this.currentTrackIndex++;\n          this.playNextAudioTrack();\n        }\n      }, 3000);\n    }\n  }\n\n  playMelodyInternal(melody, noteIndex, startTime) {\n    if (!this.isInitialized || !this.currentMusic) return;\n\n    if (noteIndex >= melody.length) {\n      // Loop the melody after a short pause\n      setTimeout(() => {\n        if (this.currentMusic && this.currentMusic.melody === melody) {\n          this.playMelodyInternal(melody, 0, this.context.currentTime + 1.5);\n        }\n      }, 1500);\n      return;\n    }\n\n    const note = melody[noteIndex];\n    if (note.note === 0) {\n      // Rest - just schedule next note\n      setTimeout(() => {\n        if (this.currentMusic && this.currentMusic.melody === melody) {\n          this.playMelodyInternal(melody, noteIndex + 1, startTime + note.duration);\n        }\n      }, note.duration * 1000);\n      return;\n    }\n\n    // Create a richer Western-style instrumentation\n    this.playWesternMelodyNote(note.note, note.duration, startTime);\n    this.playWesternHarmony(note.note, note.duration, startTime);\n\n    // Schedule next note\n    setTimeout(() => {\n      if (this.currentMusic && this.currentMusic.melody === melody) {\n        this.playMelodyInternal(melody, noteIndex + 1, startTime + note.duration);\n      }\n    }, note.duration * 1000);\n  }\n\n  playWesternMelodyNote(frequency, duration, startTime) {\n    // Main melody with guitar-like sound\n    const fundamental = this.context.createOscillator();\n    const harmonics = this.context.createOscillator();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    // Guitar-like timbre\n    fundamental.type = 'sawtooth';\n    fundamental.frequency.setValueAtTime(frequency, startTime);\n\n    harmonics.type = 'triangle';\n    harmonics.frequency.setValueAtTime(frequency * 2, startTime);\n\n    // Warm filter for guitar sound\n    filter.type = 'lowpass';\n    filter.frequency.setValueAtTime(frequency * 4, startTime);\n    filter.Q.setValueAtTime(1, startTime);\n\n    // Mix oscillators\n    const harmonicsGain = this.context.createGain();\n    harmonicsGain.gain.setValueAtTime(0.3, startTime);\n\n    fundamental.connect(filter);\n    harmonics.connect(harmonicsGain);\n    harmonicsGain.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    // Gentle guitar-like envelope\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(this.musicVolume * 0.4, startTime + 0.1);\n    gainNode.gain.setValueAtTime(this.musicVolume * 0.35, startTime + duration * 0.7);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);\n\n    fundamental.start(startTime);\n    harmonics.start(startTime);\n    fundamental.stop(startTime + duration);\n    harmonics.stop(startTime + duration);\n  }\n\n  playWesternHarmony(frequency, duration, startTime) {\n    // Add subtle harmonic accompaniment\n    const harmonyFreq = frequency * 0.75; // Perfect fifth below\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(harmonyFreq, startTime);\n\n    // Very quiet harmony\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(this.musicVolume * 0.15, startTime + 0.2);\n    gainNode.gain.setValueAtTime(this.musicVolume * 0.1, startTime + duration * 0.8);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);\n\n    oscillator.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + duration);\n  }\n\n  playRandomChords() {\n    if (!this.isInitialized || !this.currentMusic || this.isMuted) return;\n\n    // Pick a random chord\n    const randomChord = this.westernChords[Math.floor(Math.random() * this.westernChords.length)];\n\n    // Fixed duration for 4 beats (assuming 120 BPM = 0.5 seconds per beat)\n    const beatsPerMinute = 120;\n    const secondsPerBeat = 60 / beatsPerMinute;\n    const duration = 4 * secondsPerBeat; // 4 beats = 2 seconds\n\n    // Play Western band arrangement\n    this.playAcousticGuitar(randomChord, duration, this.context.currentTime);\n    this.playUprigthBass(randomChord, duration, this.context.currentTime);\n    this.playBanjo(randomChord, duration, this.context.currentTime + 0.1);\n    this.playFiddle(randomChord, duration, this.context.currentTime + 0.3);\n    this.playSimpleDrums(duration, this.context.currentTime);\n\n    // Schedule next random chord\n    setTimeout(() => {\n      if (this.currentMusic && this.currentMusic.melody === 'random_chords') {\n        this.playRandomChords();\n      }\n    }, duration * 1000);\n  }\n\n  playAcousticGuitar(chord, duration, startTime) {\n    // Strum pattern: down-up-down-up in 4 beats\n    const strumTimes = [0, 0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75];\n\n    strumTimes.forEach((beatOffset, index) => {\n      const strumTime = startTime + beatOffset;\n      const isDownstroke = index % 2 === 0;\n\n      // Play chord notes with slight delay between strings\n      chord.notes.forEach((frequency, stringIndex) => {\n        const stringTime = strumTime + (stringIndex * 0.01);\n        const oscillator = this.context.createOscillator();\n        const gainNode = this.context.createGain();\n        const filter = this.context.createBiquadFilter();\n\n        // Guitar timbre\n        oscillator.type = 'sawtooth';\n        oscillator.frequency.setValueAtTime(frequency, stringTime);\n\n        // Guitar body resonance\n        filter.type = 'lowpass';\n        filter.frequency.setValueAtTime(frequency * 4, stringTime);\n        filter.Q.setValueAtTime(0.7, stringTime);\n\n        // Strum dynamics\n        const volume = (this.musicVolume * 0.15) * (isDownstroke ? 1.0 : 0.7);\n        gainNode.gain.setValueAtTime(0, stringTime);\n        gainNode.gain.linearRampToValueAtTime(volume, stringTime + 0.02);\n        gainNode.gain.exponentialRampToValueAtTime(0.001, stringTime + 0.4);\n\n        oscillator.connect(filter);\n        filter.connect(gainNode);\n        gainNode.connect(this.musicGain);\n\n        oscillator.start(stringTime);\n        oscillator.stop(stringTime + 0.4);\n      });\n    });\n  }\n\n  playUprigthBass(chord, duration, startTime) {\n    // Walking bass pattern\n    const bassNotes = [chord.bass, chord.bass * 1.25, chord.bass * 1.5, chord.bass * 1.25];\n    const beatLength = duration / 4;\n\n    bassNotes.forEach((frequency, beat) => {\n      const noteTime = startTime + (beat * beatLength);\n      const oscillator = this.context.createOscillator();\n      const gainNode = this.context.createGain();\n      const filter = this.context.createBiquadFilter();\n\n      // Upright bass timbre\n      oscillator.type = 'triangle';\n      oscillator.frequency.setValueAtTime(frequency, noteTime);\n\n      // Bass warmth\n      filter.type = 'lowpass';\n      filter.frequency.setValueAtTime(frequency * 3, noteTime);\n      filter.Q.setValueAtTime(1.2, noteTime);\n\n      // Bass envelope - punchy attack, warm sustain\n      const volume = this.musicVolume * 0.25;\n      gainNode.gain.setValueAtTime(0, noteTime);\n      gainNode.gain.linearRampToValueAtTime(volume, noteTime + 0.05);\n      gainNode.gain.setValueAtTime(volume * 0.6, noteTime + beatLength * 0.8);\n      gainNode.gain.exponentialRampToValueAtTime(0.001, noteTime + beatLength);\n\n      oscillator.connect(filter);\n      filter.connect(gainNode);\n      gainNode.connect(this.musicGain);\n\n      oscillator.start(noteTime);\n      oscillator.stop(noteTime + beatLength);\n    });\n  }\n\n  playBanjo(chord, duration, startTime) {\n    // Banjo picking pattern - arpeggiated notes\n    const pickingPattern = [0, 2, 1, 2, 0, 2, 1, 2]; // Index into chord notes\n    const sixteenthNote = duration / 16;\n\n    for (let i = 0; i < 16; i++) {\n      if (Math.random() < 0.7) { // Not every note played\n        const noteTime = startTime + (i * sixteenthNote);\n        const chordIndex = pickingPattern[i % pickingPattern.length];\n        const frequency = chord.notes[chordIndex] * (1 + Math.random() * 0.5); // Vary octave\n\n        const oscillator = this.context.createOscillator();\n        const gainNode = this.context.createGain();\n        const filter = this.context.createBiquadFilter();\n\n        // Bright banjo sound\n        oscillator.type = 'square';\n        oscillator.frequency.setValueAtTime(frequency, noteTime);\n\n        // Banjo brightness\n        filter.type = 'highpass';\n        filter.frequency.setValueAtTime(frequency * 0.5, noteTime);\n        filter.Q.setValueAtTime(0.5, noteTime);\n\n        // Quick pluck\n        const volume = this.musicVolume * 0.08;\n        gainNode.gain.setValueAtTime(volume, noteTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.001, noteTime + 0.2);\n\n        oscillator.connect(filter);\n        filter.connect(gainNode);\n        gainNode.connect(this.musicGain);\n\n        oscillator.start(noteTime);\n        oscillator.stop(noteTime + 0.2);\n      }\n    }\n  }\n\n  playFiddle(chord, duration, startTime) {\n    // Simple fiddle melody based on chord tones\n    const melodyNotes = [\n      chord.notes[0] * 2,      // Root up an octave\n      chord.notes[1] * 2,      // Third up an octave\n      chord.notes[2] * 2,      // Fifth up an octave\n      chord.notes[0] * 2.5     // Root up higher\n    ];\n\n    const noteLength = duration / 4;\n\n    melodyNotes.forEach((frequency, index) => {\n      if (Math.random() < 0.6) { // Sparse melody\n        const noteTime = startTime + (index * noteLength);\n        const oscillator = this.context.createOscillator();\n        const gainNode = this.context.createGain();\n        const filter = this.context.createBiquadFilter();\n\n        // Fiddle/violin timbre\n        oscillator.type = 'sawtooth';\n        oscillator.frequency.setValueAtTime(frequency, noteTime);\n\n        // Add vibrato\n        const vibrato = this.context.createOscillator();\n        const vibratoGain = this.context.createGain();\n        vibrato.type = 'sine';\n        vibrato.frequency.setValueAtTime(6, noteTime);\n        vibratoGain.gain.setValueAtTime(frequency * 0.02, noteTime);\n\n        vibrato.connect(vibratoGain);\n        vibratoGain.connect(oscillator.frequency);\n\n        // Fiddle resonance\n        filter.type = 'bandpass';\n        filter.frequency.setValueAtTime(frequency * 1.5, noteTime);\n        filter.Q.setValueAtTime(2, noteTime);\n\n        // Bowed envelope\n        const volume = this.musicVolume * 0.1;\n        gainNode.gain.setValueAtTime(0, noteTime);\n        gainNode.gain.linearRampToValueAtTime(volume, noteTime + 0.1);\n        gainNode.gain.setValueAtTime(volume * 0.8, noteTime + noteLength * 0.7);\n        gainNode.gain.exponentialRampToValueAtTime(0.001, noteTime + noteLength);\n\n        oscillator.connect(filter);\n        filter.connect(gainNode);\n        gainNode.connect(this.musicGain);\n\n        oscillator.start(noteTime);\n        vibrato.start(noteTime);\n        oscillator.stop(noteTime + noteLength);\n        vibrato.stop(noteTime + noteLength);\n      }\n    });\n  }\n\n  playSimpleDrums(duration, startTime) {\n    const beatLength = duration / 4;\n\n    for (let beat = 0; beat < 4; beat++) {\n      const beatTime = startTime + (beat * beatLength);\n\n      // Simple kick on 1 and 3\n      if (beat === 0 || beat === 2) {\n        this.playKickDrum(beatTime);\n      }\n\n      // Snare on 2 and 4\n      if (beat === 1 || beat === 3) {\n        this.playSnare(beatTime);\n      }\n\n      // Subtle hi-hat on off-beats\n      if (Math.random() < 0.4) {\n        this.playHiHat(beatTime + beatLength / 2);\n      }\n    }\n  }\n\n  playRandomMelody(chord, chordDuration, startTime) {\n    // Generate a short random melody (3-6 notes)\n    const melodyLength = 3 + Math.floor(Math.random() * 4);\n    const noteDuration = (chordDuration - 1) / melodyLength; // Leave space at end\n\n    // Get chord-appropriate melody notes\n    const chordNotes = this.getChordMelodyNotes(chord);\n\n    for (let i = 0; i < melodyLength; i++) {\n      const noteStartTime = startTime + (i * noteDuration);\n\n      // Pick random note that fits the chord\n      const randomNote = chordNotes[Math.floor(Math.random() * chordNotes.length)];\n\n      // 20% chance of rest (silence)\n      if (Math.random() < 0.2) {\n        continue; // Skip this note (create a rest)\n      }\n\n      this.playMelodyNote(randomNote, noteDuration * 0.8, noteStartTime); // Slightly shorter than full duration\n    }\n  }\n\n  getChordMelodyNotes(chord) {\n    // Create melody notes that harmonically fit the chord\n    const melodyNotes = [];\n\n    // Add the chord tones in higher octaves\n    chord.forEach(frequency => {\n      melodyNotes.push(frequency * 2);     // One octave up\n      melodyNotes.push(frequency * 1.5);   // Perfect fifth up\n      if (frequency * 4 < 1000) {          // Two octaves up (if not too high)\n        melodyNotes.push(frequency * 4);\n      }\n    });\n\n    // Add some passing tones that work with Western harmony\n    const rootFreq = chord[0]; // Base frequency of chord\n\n    // Add major scale intervals from the root\n    melodyNotes.push(rootFreq * 1.125);  // Major second\n    melodyNotes.push(rootFreq * 1.25);   // Major third\n    melodyNotes.push(rootFreq * 1.5);    // Perfect fifth\n    melodyNotes.push(rootFreq * 1.67);   // Minor sixth\n    melodyNotes.push(rootFreq * 1.875);  // Major seventh\n\n    // Add higher octave versions\n    melodyNotes.push(rootFreq * 2.25);   // Major second (octave up)\n    melodyNotes.push(rootFreq * 2.5);    // Major third (octave up)\n    melodyNotes.push(rootFreq * 3);      // Perfect fifth (octave up)\n\n    return melodyNotes.filter(freq => freq >= 200 && freq <= 1000); // Keep in reasonable range\n  }\n\n  playPolyrhythms(chord, duration, startTime) {\n    const beatsPerMinute = 120;\n    const secondsPerBeat = 60 / beatsPerMinute;\n\n    // Add different polyrhythmic layers\n    this.playTripletLayer(chord, duration, startTime, secondsPerBeat);\n    this.playOffbeatLayer(chord, duration, startTime, secondsPerBeat);\n    this.playSixteenthLayer(chord, duration, startTime, secondsPerBeat);\n    this.playDrumLayer(duration, startTime, secondsPerBeat);\n    this.playCymbalLayer(duration, startTime, secondsPerBeat);\n  }\n\n  playTripletLayer(chord, duration, startTime, secondsPerBeat) {\n    // Play triplets (3 notes per beat) - creates 3:4 polyrhythm against main beat\n    const tripletDuration = secondsPerBeat / 3;\n    const totalTriplets = Math.floor(duration / tripletDuration);\n\n    for (let i = 0; i < totalTriplets; i++) {\n      // 40% chance to play each triplet note\n      if (Math.random() < 0.4) {\n        const noteStartTime = startTime + (i * tripletDuration);\n        const chordNote = chord[i % chord.length];\n        const tripletNote = chordNote * (1 + Math.random() * 0.5); // Vary the octave slightly\n\n        this.playPolyrhythmNote(tripletNote, tripletDuration * 0.7, noteStartTime, 'triplet');\n      }\n    }\n  }\n\n  playOffbeatLayer(chord, duration, startTime, secondsPerBeat) {\n    // Play on the off-beats (syncopation)\n    const numBeats = Math.floor(duration / secondsPerBeat);\n\n    for (let beat = 0; beat < numBeats; beat++) {\n      // Play on the \"and\" of each beat (half-beat offset)\n      if (Math.random() < 0.6) {\n        const noteStartTime = startTime + (beat * secondsPerBeat) + (secondsPerBeat / 2);\n        const chordNote = chord[(beat + 1) % chord.length];\n        const offbeatNote = chordNote * 1.5; // Perfect fifth\n\n        this.playPolyrhythmNote(offbeatNote, secondsPerBeat * 0.3, noteStartTime, 'offbeat');\n      }\n    }\n  }\n\n  playSixteenthLayer(chord, duration, startTime, secondsPerBeat) {\n    // Sparse sixteenth note patterns (4 subdivisions per beat)\n    const sixteenthDuration = secondsPerBeat / 4;\n    const totalSixteenths = Math.floor(duration / sixteenthDuration);\n\n    for (let i = 0; i < totalSixteenths; i++) {\n      // Very sparse - only 15% chance per sixteenth note\n      if (Math.random() < 0.15) {\n        const noteStartTime = startTime + (i * sixteenthDuration);\n        const chordNote = chord[Math.floor(Math.random() * chord.length)];\n        const sixteenthNote = chordNote * 2; // One octave up\n\n        this.playPolyrhythmNote(sixteenthNote, sixteenthDuration * 0.8, noteStartTime, 'sixteenth');\n      }\n    }\n  }\n\n  playPolyrhythmNote(frequency, duration, startTime, type) {\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n    const filter = this.context.createBiquadFilter();\n\n    // Different timbres for different polyrhythmic layers\n    switch (type) {\n      case 'triplet':\n        oscillator.type = 'triangle';\n        filter.type = 'bandpass';\n        filter.frequency.setValueAtTime(frequency * 1.5, startTime);\n        filter.Q.setValueAtTime(3, startTime);\n        break;\n      case 'offbeat':\n        oscillator.type = 'sawtooth';\n        filter.type = 'highpass';\n        filter.frequency.setValueAtTime(frequency * 0.8, startTime);\n        filter.Q.setValueAtTime(1, startTime);\n        break;\n      case 'sixteenth':\n        oscillator.type = 'sine';\n        filter.type = 'lowpass';\n        filter.frequency.setValueAtTime(frequency * 2, startTime);\n        filter.Q.setValueAtTime(2, startTime);\n        break;\n    }\n\n    oscillator.frequency.setValueAtTime(frequency, startTime);\n\n    // Very quiet volume for polyrhythmic elements\n    const volume = this.musicVolume * 0.08;\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.02);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);\n\n    oscillator.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + duration);\n  }\n\n  playDrumLayer(duration, startTime, secondsPerBeat) {\n    const numBeats = Math.floor(duration / secondsPerBeat);\n\n    for (let beat = 0; beat < numBeats; beat++) {\n      const beatStartTime = startTime + (beat * secondsPerBeat);\n\n      // Kick drum on beats 1 and 3 (60% chance)\n      if (beat % 2 === 0 && Math.random() < 0.6) {\n        this.playKickDrum(beatStartTime);\n      }\n\n      // Snare drum on beats 2 and 4 (70% chance)\n      if (beat % 2 === 1 && Math.random() < 0.7) {\n        this.playSnare(beatStartTime);\n      }\n\n      // Hi-hat subdivisions (every eighth note, 40% chance)\n      for (let eighth = 0; eighth < 2; eighth++) {\n        const eighthTime = beatStartTime + (eighth * secondsPerBeat / 2);\n        if (Math.random() < 0.4) {\n          this.playHiHat(eighthTime);\n        }\n      }\n    }\n  }\n\n  playCymbalLayer(duration, startTime, secondsPerBeat) {\n    const numBeats = Math.floor(duration / secondsPerBeat);\n\n    for (let beat = 0; beat < numBeats; beat++) {\n      // Crash cymbal occasionally on beat 1 (20% chance)\n      if (beat === 0 && Math.random() < 0.2) {\n        this.playCrashCymbal(startTime + (beat * secondsPerBeat));\n      }\n\n      // Ride cymbal patterns (30% chance per beat)\n      if (Math.random() < 0.3) {\n        this.playRideCymbal(startTime + (beat * secondsPerBeat));\n      }\n    }\n  }\n\n  playKickDrum(startTime) {\n    // Low-frequency thump\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n    const filter = this.context.createBiquadFilter();\n\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(60, startTime);\n    oscillator.frequency.exponentialRampToValueAtTime(40, startTime + 0.1);\n\n    filter.type = 'lowpass';\n    filter.frequency.setValueAtTime(120, startTime);\n    filter.Q.setValueAtTime(1, startTime);\n\n    const volume = this.musicVolume * 0.15;\n    gainNode.gain.setValueAtTime(volume, startTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + 0.2);\n\n    oscillator.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + 0.2);\n  }\n\n  playSnare(startTime) {\n    // Sharp crack with noise\n    const bufferSize = this.context.sampleRate * 0.1;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    // Generate noise burst\n    for (let i = 0; i < bufferSize; i++) {\n      const t = i / bufferSize;\n      const envelope = Math.exp(-t * 40);\n      output[i] = (Math.random() * 2 - 1) * envelope;\n    }\n\n    const source = this.context.createBufferSource();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    source.buffer = buffer;\n    filter.type = 'highpass';\n    filter.frequency.setValueAtTime(300, startTime);\n    filter.Q.setValueAtTime(1, startTime);\n\n    const volume = this.musicVolume * 0.12;\n    gainNode.gain.setValueAtTime(volume, startTime);\n\n    source.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    source.start(startTime);\n  }\n\n  playHiHat(startTime) {\n    // High-frequency metallic sound\n    const bufferSize = this.context.sampleRate * 0.05;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    // Generate metallic noise\n    for (let i = 0; i < bufferSize; i++) {\n      const t = i / bufferSize;\n      const envelope = Math.exp(-t * 60);\n      output[i] = (Math.random() * 2 - 1) * envelope * 0.5;\n    }\n\n    const source = this.context.createBufferSource();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    source.buffer = buffer;\n    filter.type = 'highpass';\n    filter.frequency.setValueAtTime(8000, startTime);\n    filter.Q.setValueAtTime(2, startTime);\n\n    const volume = this.musicVolume * 0.08;\n    gainNode.gain.setValueAtTime(volume, startTime);\n\n    source.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    source.start(startTime);\n  }\n\n  playCrashCymbal(startTime) {\n    // Sustained metallic crash\n    const bufferSize = this.context.sampleRate * 0.8;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    // Generate sustained metallic noise\n    for (let i = 0; i < bufferSize; i++) {\n      const t = i / bufferSize;\n      const envelope = Math.exp(-t * 3);\n      output[i] = (Math.random() * 2 - 1) * envelope * 0.3;\n    }\n\n    const source = this.context.createBufferSource();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n\n    source.buffer = buffer;\n    filter.type = 'bandpass';\n    filter.frequency.setValueAtTime(5000, startTime);\n    filter.Q.setValueAtTime(0.5, startTime);\n\n    const volume = this.musicVolume * 0.1;\n    gainNode.gain.setValueAtTime(volume, startTime);\n\n    source.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    source.start(startTime);\n  }\n\n  playRideCymbal(startTime) {\n    // Metallic ping with sustain\n    const oscillator = this.context.createOscillator();\n    const gainNode = this.context.createGain();\n    const filter = this.context.createBiquadFilter();\n\n    oscillator.type = 'triangle';\n    oscillator.frequency.setValueAtTime(3000, startTime);\n    oscillator.frequency.linearRampToValueAtTime(2500, startTime + 0.3);\n\n    filter.type = 'bandpass';\n    filter.frequency.setValueAtTime(4000, startTime);\n    filter.Q.setValueAtTime(3, startTime);\n\n    const volume = this.musicVolume * 0.06;\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.01);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + 0.4);\n\n    oscillator.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    oscillator.start(startTime);\n    oscillator.stop(startTime + 0.4);\n  }\n\n  playMelodyNote(frequency, duration, startTime) {\n    // Create harmonica-like melody sound\n    const fundamental = this.context.createOscillator();\n    const harmonics = this.context.createOscillator();\n    const filter = this.context.createBiquadFilter();\n    const gainNode = this.context.createGain();\n    const vibratoOsc = this.context.createOscillator();\n    const vibratoGain = this.context.createGain();\n\n    // Main harmonica sound\n    fundamental.type = 'sawtooth';\n    fundamental.frequency.setValueAtTime(frequency, startTime);\n\n    // Add harmonics\n    harmonics.type = 'triangle';\n    harmonics.frequency.setValueAtTime(frequency * 2, startTime);\n\n    // Subtle vibrato\n    vibratoOsc.type = 'sine';\n    vibratoOsc.frequency.setValueAtTime(5, startTime); // 5Hz vibrato\n    vibratoGain.gain.setValueAtTime(frequency * 0.01, startTime); // 1% vibrato depth\n\n    vibratoOsc.connect(vibratoGain);\n    vibratoGain.connect(fundamental.frequency);\n\n    // Harmonica-like filter\n    filter.type = 'bandpass';\n    filter.frequency.setValueAtTime(frequency * 1.5, startTime);\n    filter.Q.setValueAtTime(2, startTime);\n\n    // Mix and connect\n    const harmonicsGain = this.context.createGain();\n    harmonicsGain.gain.setValueAtTime(0.3, startTime);\n\n    fundamental.connect(filter);\n    harmonics.connect(harmonicsGain);\n    harmonicsGain.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.musicGain);\n\n    // Gentle melody envelope (louder than chords but still subtle)\n    gainNode.gain.setValueAtTime(0, startTime);\n    gainNode.gain.linearRampToValueAtTime(this.musicVolume * 0.15, startTime + 0.1);\n    gainNode.gain.setValueAtTime(this.musicVolume * 0.12, startTime + duration * 0.8);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);\n\n    // Start all oscillators\n    fundamental.start(startTime);\n    harmonics.start(startTime);\n    vibratoOsc.start(startTime);\n\n    // Stop all oscillators\n    fundamental.stop(startTime + duration);\n    harmonics.stop(startTime + duration);\n    vibratoOsc.stop(startTime + duration);\n  }\n\n  stopCurrentMusic() {\n    // Stop the actual audio source if it exists\n    if (this.currentMusicSource) {\n      try {\n        this.currentMusicSource.stop();\n      } catch (e) {\n        // Audio source might already be stopped\n        console.log('Audio source already stopped');\n      }\n      this.currentMusicSource = null;\n    }\n    this.currentMusic = null;\n  }\n\n  playNextTrackManual() {\n    if (!this.musicFiles || this.musicFiles.length === 0) return;\n\n    // Stop any current music immediately\n    this.stopCurrentMusic();\n\n    // Move to next track\n    this.currentTrackIndex = (this.currentTrackIndex + 1) % this.musicFiles.length;\n\n    // Ensure we have the correct music setup\n    this.currentMusic = { melody: 'audio_files', type: 'background', startTime: this.context ? this.context.currentTime : 0 };\n\n    // Play next audio track directly - no synthesized music!\n    this.playNextAudioTrack();\n  }\n\n  playPreviousTrack() {\n    if (!this.musicFiles || this.musicFiles.length === 0) return;\n\n    this.currentTrackIndex = this.currentTrackIndex - 1;\n    if (this.currentTrackIndex < 0) {\n      this.currentTrackIndex = this.musicFiles.length - 1;\n    }\n    this.stopCurrentMusic();\n    this.startBackgroundMusic();\n  }\n\n  toggleMusicPause() {\n    if (this.isMusicPaused) {\n      // Resume music\n      this.startBackgroundMusic();\n      this.isMusicPaused = false;\n    } else {\n      // Pause music\n      this.stopCurrentMusic();\n      this.isMusicPaused = true;\n    }\n  }\n\n  getCurrentTrackInfo() {\n    if (!this.musicFiles || this.musicFiles.length === 0) {\n      return { name: 'No tracks loaded', index: 0, total: 0 };\n    }\n\n    const currentFile = this.musicFiles[this.currentTrackIndex];\n    const trackName = currentFile ? currentFile.replace(/^.*\\//, '').replace(/\\.[^/.]+$/, '') : 'Unknown';\n\n    return {\n      name: trackName,\n      index: this.currentTrackIndex + 1,\n      total: this.musicFiles.length,\n      isPaused: this.isMusicPaused || false\n    };\n  }\n\n  // Volume controls\n  setMasterVolume(volume) {\n    this.masterVolume = Math.max(0, Math.min(1, volume));\n    if (this.masterGain) {\n      this.masterGain.gain.value = this.masterVolume;\n    }\n  }\n\n  setSfxVolume(volume) {\n    this.sfxVolume = Math.max(0, Math.min(1, volume));\n  }\n\n  setMusicVolume(volume) {\n    this.musicVolume = Math.max(0, Math.min(1, volume));\n  }\n\n  mute() {\n    this.isMuted = true;\n    if (this.masterGain) {\n      this.masterGain.gain.value = 0;\n    }\n  }\n\n  unmute() {\n    this.isMuted = false;\n    if (this.masterGain) {\n      this.masterGain.gain.value = this.masterVolume;\n    }\n  }\n\n  toggleMute() {\n    if (this.isMuted) {\n      this.unmute();\n    } else {\n      this.mute();\n    }\n    return !this.isMuted;\n  }\n\n  /**\n   * Play a voice audio file (separate from background music)\n   * @param {string} voiceFile - Path to the voice audio file\n   * @param {number} volume - Volume level (0-1)\n   * @param {number} delay - Delay in seconds before playing\n   * @returns {Promise} Resolves when voice starts playing\n   */\n  async playVoiceAudio(voiceFile, volume = 0.8, delay = 0) {\n    // Initialize audio if needed\n    if (!this.isInitialized) {\n      await this.initializeAudio();\n    }\n\n    if (!this.isInitialized || !this.context) {\n      console.warn('Audio context not initialized for voice playback');\n      return;\n    }\n\n    // Don't play if muted\n    if (this.isMuted) {\n      console.log('Voice audio skipped - audio is muted');\n      return;\n    }\n\n    try {\n      await this.resumeContext();\n\n      // Fetch and decode the voice audio file\n      const response = await fetch(voiceFile);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch voice file ${voiceFile}: ${response.status}`);\n      }\n\n      const arrayBuffer = await response.arrayBuffer();\n      const audioBuffer = await this.context.decodeAudioData(arrayBuffer);\n\n      console.log(`Voice loaded: ${voiceFile}, duration: ${audioBuffer.duration}s`);\n\n      // Create source for voice audio\n      const source = this.context.createBufferSource();\n      source.buffer = audioBuffer;\n\n      // Create a separate gain node for voice (independent of music)\n      const voiceGain = this.context.createGain();\n      voiceGain.gain.value = volume * this.voiceVolume * this.masterVolume;\n\n      // Connect voice directly to master gain (parallel to music)\n      source.connect(voiceGain);\n      voiceGain.connect(this.masterGain);\n\n      // Reduce music volume during voice playback\n      this.reduceMusicVolume();\n\n      // Start playing after delay\n      const startTime = this.context.currentTime + delay;\n      source.start(startTime);\n\n      // Store reference for potential stopping\n      this.currentVoiceSource = source;\n\n      // Restore music volume when voice ends\n      const voiceDuration = audioBuffer.duration;\n      setTimeout(() => {\n        this.restoreMusicVolume();\n        this.currentVoiceSource = null;\n      }, (delay + voiceDuration) * 1000);\n\n      // Clear reference when done\n      source.onended = () => {\n        this.currentVoiceSource = null;\n        console.log('Voice audio finished playing');\n      };\n\n      console.log(`Voice audio \"${voiceFile}\" scheduled to play in ${delay} seconds`);\n\n    } catch (error) {\n      console.error('Error playing voice audio:', error);\n    }\n  }\n\n  /**\n   * Stop current voice audio if playing\n   */\n  stopVoiceAudio() {\n    if (this.currentVoiceSource) {\n      try {\n        this.currentVoiceSource.stop();\n        this.currentVoiceSource = null;\n        console.log('Voice audio stopped');\n      } catch (error) {\n        // Source may have already stopped\n      }\n    }\n  }\n\n  /**\n   * Temporarily reduce music volume for voice playback\n   */\n  reduceMusicVolume() {\n    if (this.musicGain) {\n      this.musicGain.gain.setValueAtTime(this.musicVolumeReduced * this.masterVolume, this.context.currentTime);\n      console.log('Music volume reduced for voice playback');\n    }\n  }\n\n  /**\n   * Restore music volume after voice playback\n   */\n  restoreMusicVolume() {\n    if (this.musicGain) {\n      this.musicGain.gain.setValueAtTime(this.musicVolume * this.masterVolume, this.context.currentTime);\n      console.log('Music volume restored after voice playback');\n    }\n  }\n}\n\nexport default AudioManager;","/**\n * Complete KnockoffArcade Game - Working Version\n */\n\nimport { HighScoreManager } from './systems/HighScoreManager.js';\nimport { AudioManager } from './systems/AudioManager.js';\nimport { GameConfig } from './config/GameConfig.js';\n\nexport class KnockoffArcade {\n  constructor() {\n    this.canvas = document.getElementById('gameCanvas');\n    this.ctx = this.canvas.getContext('2d');\n    this.startScreen = document.getElementById('startScreen');\n    this.gameOverScreen = document.getElementById('gameOver');\n    this.scoreElement = document.getElementById('scoreValue');\n    this.livesElement = document.getElementById('livesValue');\n    this.finalScoreElement = document.getElementById('finalScore');\n    this.gameOverTitle = document.getElementById('gameOverTitle');\n    this.levelElement = document.getElementById('levelValue');\n    this.multiplierElement = document.getElementById('multiplierValue');\n    this.comboElement = document.getElementById('comboValue');\n    this.comboDisplay = document.getElementById('comboDisplay');\n    this.powerupDisplay = document.getElementById('powerupDisplay');\n    this.playerNameInput = document.getElementById('playerName');\n    this.startButton = document.querySelector('.saloon-door-btn');\n    this.highScoresScreen = document.getElementById('highScoresScreen');\n    this.highScoresList = document.getElementById('highScoresList');\n\n    this.gameState = 'start';\n    this.score = 0;\n    this.lives = 10;\n    this.level = 1;\n    this.combo = 0;\n    this.multiplier = 1;\n    this.balls = [];\n    this.bricks = [];\n    this.powerUps = [];\n    this.particles = [];\n    this.cavityBalls = new Set(); // Track balls in the cavity (above bricks)\n    this.cavityTimers = new Map(); // Track cavity effect timers for balls\n    this.originalSpeeds = new Map(); // Track original speeds for cavity balls\n    this.keys = {};\n\n    // Initialize high score manager\n    this.highScoreManager = new HighScoreManager();\n    this.displayHighScores();\n\n    // Initialize audio manager and start music after first user interaction\n    this.audioManager = new AudioManager();\n    this.musicStarted = false;\n\n    // Load background image\n    this.backgroundImage = new Image();\n    this.backgroundImage.src = './assets/img/background.webp';\n\n    // Load power-up icons\n    this.powerUpIcons = {};\n    this.loadPowerUpIcons();\n    this.backgroundImageLoaded = false;\n    this.backgroundImage.onload = () => {\n      this.backgroundImageLoaded = true;\n    };\n\n    this.resizeCanvas();\n    this.initializeGame();\n    this.setupEventListeners();\n    this.gameLoop();\n  }\n\n  async init() {\n    // Already initialized in constructor\n    return Promise.resolve();\n  }\n\n  resizeCanvas() {\n    // Get viewport dimensions, accounting for mobile specifics\n    let canvasWidth = window.innerWidth;\n    let canvasHeight = window.innerHeight;\n\n    // For mobile devices, use visual viewport if available\n    if (window.visualViewport) {\n      canvasWidth = window.visualViewport.width;\n      canvasHeight = window.visualViewport.height;\n    }\n\n    // Account for mobile browsers hiding/showing address bar\n    if (GameConfig.MOBILE) {\n      // Use screen dimensions on mobile for more stable sizing\n      canvasHeight = Math.min(window.innerHeight, window.screen.height - 100);\n    }\n\n    // Ensure minimum dimensions for playability\n    const minDimension = GameConfig.CANVAS.MIN_DIMENSION || 400;\n    canvasWidth = Math.max(canvasWidth, minDimension);\n    canvasHeight = Math.max(canvasHeight, minDimension);\n\n    this.canvas.width = canvasWidth;\n    this.canvas.height = canvasHeight;\n\n    // Set CSS dimensions to match canvas dimensions for proper scaling\n    this.canvas.style.width = canvasWidth + 'px';\n    this.canvas.style.height = canvasHeight + 'px';\n\n    // Debounced resize handler to avoid excessive recalculations\n    if (!this.resizeTimeout) {\n      window.addEventListener('resize', () => {\n        clearTimeout(this.resizeTimeout);\n        this.resizeTimeout = setTimeout(() => {\n          this.resizeCanvas();\n          this.initializeGame();\n        }, 250);\n      });\n\n      // Handle visual viewport changes on mobile\n      if (window.visualViewport) {\n        window.visualViewport.addEventListener('resize', () => {\n          clearTimeout(this.resizeTimeout);\n          this.resizeTimeout = setTimeout(() => {\n            this.resizeCanvas();\n            this.initializeGame();\n          }, 250);\n        });\n      }\n    }\n  }\n\n  handleResize() {\n    this.resizeCanvas();\n  }\n\n  initializeGame() {\n    const scale = Math.min(this.canvas.width, this.canvas.height) / 800;\n    \n    this.paddle = {\n      x: this.canvas.width / 2 - 60 * scale,\n      y: this.canvas.height - 50 * scale,\n      width: 120 * scale,\n      height: 15 * scale,\n      speed: 8 * scale,\n      powerUps: {}\n    };\n\n    this.ball = {\n      x: this.canvas.width / 2,\n      y: this.canvas.height / 2,\n      radius: 12 * scale,\n      speedX: 2 * scale,\n      speedY: -2 * scale,\n      powerUps: {}\n    };\n\n    this.balls = [this.ball];\n    this.createBricks();\n  }\n\n  createBricks() {\n    this.bricks = [];\n    const scale = Math.min(this.canvas.width, this.canvas.height) / 800;\n    const brickWidth = 75 * scale;\n    const brickHeight = 20 * scale;\n    const padding = 5 * scale;\n    const rows = 8;\n    const cols = Math.floor((this.canvas.width - padding * 2) / (brickWidth + padding));\n    \n    for (let row = 0; row < rows; row++) {\n      for (let col = 0; col < cols; col++) {\n        this.bricks.push({\n          x: padding + col * (brickWidth + padding),\n          y: padding + 100 * scale + row * (brickHeight + padding),\n          width: brickWidth,\n          height: brickHeight,\n          visible: true,\n          hits: 1,\n          color: this.getBrickColor(row)\n        });\n      }\n    }\n  }\n\n  loadPowerUpIcons() {\n    const iconPath = './assets/images/powerups/';\n    const iconMappings = {\n      'dynamite': 'cactus.svg',          // Multi-ball power-up\n      'sheriff_badge': 'badge.svg',       // Destructive power-up\n      'horseshoe': 'hat.svg',            // Slow-motion power-up\n      'boots': 'boot-and-spur.svg',      // Maximum speed boost power-up (boot-with-spur as requested)\n      'whiskey': 'whiskybottle.svg'      // Paddle width increase power-up\n    };\n\n    for (const [powerUpType, iconFile] of Object.entries(iconMappings)) {\n      const img = new Image();\n      img.src = iconPath + iconFile;\n      this.powerUpIcons[powerUpType] = img;\n    }\n  }\n\n\n  getBrickColor(row) {\n    const colors = ['#dc143c', '#ff6600', '#ffd700', '#00ff7f', '#00ffff', '#8a2be2', '#ff69b4', '#deb887'];\n    return colors[row % colors.length];\n  }\n\n  setupEventListeners() {\n    // Start music on any user interaction\n    const startMusicOnInteraction = async () => {\n      if (!this.musicStarted) {\n        this.musicStarted = true;\n        await this.audioManager.startBackgroundMusic();\n        console.log('Background music started');\n\n        // Play voice audio if on start screen\n        if (this.gameState === 'start') {\n          try {\n            console.log('Attempting to play voice audio...');\n            await this.audioManager.playVoiceAudio('./assets/sounds/voices/stateyourname.wav', 1.0, 1.0);\n            console.log('Voice audio started successfully');\n          } catch (error) {\n            console.error('Failed to play voice audio:', error);\n          }\n        }\n      }\n    };\n\n    document.addEventListener('keydown', (e) => {\n      this.keys[e.code] = true;\n      startMusicOnInteraction();\n      \n      if (e.code === 'Space') {\n        e.preventDefault();\n        if (this.gameState === 'start') {\n          const playerName = this.playerNameInput.value.trim();\n          if (playerName.length === 0) {\n            // Shake the input field and play error sound\n            this.playerNameInput.style.border = '3px solid #dc143c';\n            this.playerNameInput.placeholder = 'ENTER YER NAME, PARTNER!';\n            this.audioManager.playSound('ballLost'); // Use error sound\n            setTimeout(() => {\n              this.playerNameInput.style.border = '';\n              this.playerNameInput.placeholder = 'ENTER YER NAME';\n            }, 2000);\n            return;\n          }\n          this.audioManager.playSound('menuConfirm');\n          this.startGame();\n        } else if (this.gameState === 'gameOver') {\n          this.audioManager.playSound('menuConfirm');\n          this.resetGame();\n        } else if (this.gameState === 'highScores') {\n          this.audioManager.playSound('menuSelect');\n          this.hideHighScores();\n        }\n      } else if (e.code === 'KeyH') {\n        // Don't intercept if input is focused\n        if (document.activeElement !== this.playerNameInput) {\n          e.preventDefault();\n          if (this.gameState === 'gameOver' || this.gameState === 'start') {\n            this.audioManager.playSound('menuSelect');\n            this.showHighScores();\n          }\n        }\n      } else if (e.code === 'KeyM') {\n        // Don't intercept if input is focused\n        if (document.activeElement !== this.playerNameInput) {\n          e.preventDefault();\n          this.audioManager.toggleMute();\n        }\n      } else if (e.code === 'KeyS') {\n        // Don't intercept if input is focused\n        if (document.activeElement !== this.playerNameInput) {\n          e.preventDefault();\n          this.audioManager.playNextTrackManual();\n          this.audioManager.playSound('menuSelect'); // Play Western sound effect\n        }\n      }\n    });\n\n    document.addEventListener('keyup', (e) => {\n      this.keys[e.code] = false;\n    });\n\n    // Mouse controls\n    this.canvas.addEventListener('mousemove', (e) => {\n      if (this.gameState === 'playing') {\n        const rect = this.canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        this.paddle.x = mouseX - this.paddle.width / 2;\n\n        // Keep paddle in bounds\n        if (this.paddle.x < 0) this.paddle.x = 0;\n        if (this.paddle.x + this.paddle.width > this.canvas.width) {\n          this.paddle.x = this.canvas.width - this.paddle.width;\n        }\n      }\n    });\n\n    // Touch controls for mobile\n    if (GameConfig.TOUCH_ENABLED) {\n      // Prevent default touch behaviors on canvas\n      this.canvas.addEventListener('touchstart', (e) => e.preventDefault(), { passive: false });\n      this.canvas.addEventListener('touchmove', (e) => e.preventDefault(), { passive: false });\n      this.canvas.addEventListener('touchend', (e) => e.preventDefault(), { passive: false });\n\n      // Touch move for paddle control\n      this.canvas.addEventListener('touchmove', (e) => {\n        if (this.gameState === 'playing' && e.touches.length > 0) {\n          const rect = this.canvas.getBoundingClientRect();\n          const touch = e.touches[0];\n          const touchX = touch.clientX - rect.left;\n          this.paddle.x = touchX - this.paddle.width / 2;\n\n          // Keep paddle in bounds\n          if (this.paddle.x < 0) this.paddle.x = 0;\n          if (this.paddle.x + this.paddle.width > this.canvas.width) {\n            this.paddle.x = this.canvas.width - this.paddle.width;\n          }\n        }\n      }, { passive: false });\n\n      // Touch tap for starting game and menu interactions\n      this.canvas.addEventListener('touchstart', (e) => {\n        if (this.gameState === 'start' || this.gameState === 'gameOver') {\n          // Touch to start game\n          if (this.gameState === 'start') {\n            const playerName = this.playerNameInput.value.trim();\n            if (playerName.length === 0) {\n              // Shake the input field and play error sound\n              this.playerNameInput.style.border = '3px solid #dc143c';\n              this.playerNameInput.placeholder = 'ENTER YER NAME, PARTNER!';\n              this.audioManager.playSound('ballLost'); // Use error sound\n              setTimeout(() => {\n                this.playerNameInput.style.border = '';\n                this.playerNameInput.placeholder = 'TYPE HERE...';\n              }, 2000);\n              return;\n            }\n            this.audioManager.playSound('menuConfirm');\n            this.startGame();\n          } else if (this.gameState === 'gameOver') {\n            this.audioManager.playSound('menuConfirm');\n            this.resetGame();\n          }\n        } else if (this.gameState === 'playing' && e.touches.length > 0) {\n          // Set paddle position on touch start\n          const rect = this.canvas.getBoundingClientRect();\n          const touch = e.touches[0];\n          const touchX = touch.clientX - rect.left;\n          this.paddle.x = touchX - this.paddle.width / 2;\n\n          // Keep paddle in bounds\n          if (this.paddle.x < 0) this.paddle.x = 0;\n          if (this.paddle.x + this.paddle.width > this.canvas.width) {\n            this.paddle.x = this.canvas.width - this.paddle.width;\n          }\n        }\n      }, { passive: false });\n    }\n\n    // Also start music on click or input events\n    document.addEventListener('click', startMusicOnInteraction);\n    document.addEventListener('input', startMusicOnInteraction);\n\n    // Setup start button functionality\n    this.setupStartButton();\n\n    // Initialize mobile controls\n    this.initializeMobileControls();\n  }\n\n  setupStartButton() {\n    if (!this.startButton || !this.playerNameInput) {\n      console.warn('Start button or player name input not found');\n      return;\n    }\n\n    // Function to check if button should be enabled\n    const updateButtonState = () => {\n      const playerName = this.playerNameInput.value.trim();\n      if (playerName.length > 0) {\n        this.startButton.disabled = false;\n        this.startButton.classList.remove('disabled');\n        if (GameConfig.MOBILE) {\n          this.startButton.querySelector('.btn-subtext').textContent = 'Touch to enter';\n        } else {\n          this.startButton.querySelector('.btn-subtext').textContent = 'Press SPACE when ready';\n        }\n      } else {\n        this.startButton.disabled = true;\n        this.startButton.classList.add('disabled');\n        this.startButton.querySelector('.btn-subtext').textContent = 'Enter name first';\n      }\n    };\n\n    // Listen for input changes\n    this.playerNameInput.addEventListener('input', updateButtonState);\n    this.playerNameInput.addEventListener('keyup', updateButtonState);\n\n    // Handle button click/touch\n    this.startButton.addEventListener('click', async (e) => {\n      e.preventDefault();\n      await startMusicOnInteraction();\n      if (!this.startButton.disabled && this.gameState === 'start') {\n        const playerName = this.playerNameInput.value.trim();\n        if (playerName.length > 0) {\n          this.audioManager.playSound('menuConfirm');\n          this.startGame();\n        }\n      }\n    });\n\n    // Handle touch events for mobile\n    this.startButton.addEventListener('touchstart', async (e) => {\n      e.preventDefault();\n      await startMusicOnInteraction();\n      if (!this.startButton.disabled && this.gameState === 'start') {\n        const playerName = this.playerNameInput.value.trim();\n        if (playerName.length > 0) {\n          this.audioManager.playSound('menuConfirm');\n          this.startGame();\n        }\n      }\n    });\n\n    // Initial button state\n    updateButtonState();\n  }\n\n  startGame() {\n    this.gameState = 'playing';\n    this.startScreen.classList.add('hidden');\n    this.gameOverScreen.classList.add('hidden');\n    document.body.classList.add('playing');\n    this.showMobileControls();\n    this.start();\n  }\n\n  resetGame() {\n    this.score = 0;\n    this.lives = 10;\n    this.level = 1;\n    this.combo = 0;\n    this.multiplier = 1;\n    this.gameState = 'start';\n    this.startScreen.classList.remove('hidden');\n    this.gameOverScreen.classList.add('hidden');\n    document.body.classList.remove('playing');\n    this.initializeGame();\n  }\n\n  start() {\n    this.gameStarted = true;\n    this.lastTime = performance.now();\n    // Music is already started on user interaction\n  }\n\n  pause() {\n    this.gameStarted = false;\n  }\n\n  resume() {\n    this.gameStarted = true;\n    this.lastTime = performance.now();\n  }\n\n  togglePause() {\n    if (this.gameStarted) {\n      this.pause();\n    } else {\n      this.resume();\n    }\n  }\n\n  gameLoop() {\n    const currentTime = performance.now();\n    \n    if (this.gameStarted) {\n      this.update();\n      this.render();\n    }\n    \n    this.lastTime = currentTime;\n    requestAnimationFrame(() => this.gameLoop());\n  }\n\n  update() {\n    if (this.gameState !== 'playing') return;\n\n    this.updatePaddle();\n    this.updateBalls();\n    this.updatePowerUps();\n    this.updateParticles();\n    this.checkCollisions();\n    this.checkGameState();\n    this.updateUI();\n  }\n\n  updatePaddle() {\n    // Keyboard controls\n    if (this.keys.ArrowLeft || this.keys.KeyA) {\n      if (this.paddle.x > 0) {\n        this.paddle.x -= this.paddle.speed;\n      }\n    }\n    if (this.keys.ArrowRight || this.keys.KeyD) {\n      if (this.paddle.x < this.canvas.width - this.paddle.width) {\n        this.paddle.x += this.paddle.speed;\n      }\n    }\n  }\n\n  updateBalls() {\n    for (let i = this.balls.length - 1; i >= 0; i--) {\n      const ball = this.balls[i];\n\n      // Update position\n      ball.x += ball.speedX;\n      ball.y += ball.speedY;\n\n      // Check if ball is in cavity (above top row of bricks)\n      const topBrickY = 80; // Where bricks start\n      const wasInCavity = this.cavityBalls.has(ball);\n      const isInCavity = ball.y < topBrickY;\n\n      if (isInCavity && !wasInCavity) {\n        // Ball just entered cavity!\n        this.cavityBalls.add(ball);\n        this.score += 50; // Cavity entry bonus\n        this.createParticles(ball.x, ball.y, '#ffd700', 8); // Gold particles\n\n        // Store original speed and increase ball speed (SuperBreakout style!)\n        this.originalSpeeds.set(ball, {\n          speedX: ball.speedX,\n          speedY: ball.speedY\n        });\n        ball.speedX *= 1.8; // 80% speed increase\n        ball.speedY *= 1.8;\n        console.log('Ball entered cavity! Speed increased and bonus points awarded.');\n      } else if (!isInCavity && wasInCavity) {\n        // Ball left cavity - start golden effect timer\n        this.cavityBalls.delete(ball);\n        this.cavityTimers.set(ball, Date.now() + 5000); // Golden effect lasts 5 seconds after leaving cavity\n        console.log('Ball left cavity - golden effect continues for 5 seconds');\n      }\n\n      // Check if cavity timer has expired\n      if (this.cavityTimers.has(ball)) {\n        if (Date.now() > this.cavityTimers.get(ball)) {\n          this.cavityTimers.delete(ball);\n\n          // Restore original speed when cavity effect expires\n          if (this.originalSpeeds.has(ball)) {\n            const originalSpeed = this.originalSpeeds.get(ball);\n            ball.speedX = originalSpeed.speedX;\n            ball.speedY = originalSpeed.speedY;\n            this.originalSpeeds.delete(ball);\n            console.log('Golden cavity effect expired - speed restored to normal');\n          } else {\n            console.log('Golden cavity effect expired for ball');\n          }\n        }\n      }\n\n      // Wall collisions\n      if (ball.x <= ball.radius || ball.x >= this.canvas.width - ball.radius) {\n        ball.speedX = -ball.speedX;\n      }\n      if (ball.y <= ball.radius) {\n        ball.speedY = -ball.speedY;\n      }\n\n      // Bottom boundary - lose ball\n      if (ball.y >= this.canvas.height - ball.radius) {\n        this.balls.splice(i, 1);\n        this.cavityBalls.delete(ball); // Remove from cavity tracking\n        this.cavityTimers.delete(ball); // Remove cavity timer\n        this.originalSpeeds.delete(ball); // Remove speed tracking\n        this.createParticles(ball.x, ball.y, '#ff0000', 10);\n        this.audioManager.playSound('ballLost');\n      }\n    }\n    \n    // Check if all balls are lost\n    if (this.balls.length === 0) {\n      this.lives--;\n      if (this.lives <= 0) {\n        this.gameOver();\n      } else {\n        this.resetBall();\n      }\n    }\n  }\n\n  updatePowerUps() {\n    for (let i = this.powerUps.length - 1; i >= 0; i--) {\n      const powerUp = this.powerUps[i];\n      powerUp.y += 2; // Fall speed\n      \n      // Remove if off screen\n      if (powerUp.y > this.canvas.height) {\n        this.powerUps.splice(i, 1);\n        continue;\n      }\n      \n      // Check collision with paddle\n      if (powerUp.x < this.paddle.x + this.paddle.width &&\n          powerUp.x + powerUp.width > this.paddle.x &&\n          powerUp.y < this.paddle.y + this.paddle.height &&\n          powerUp.y + powerUp.height > this.paddle.y) {\n        \n        this.applyPowerUp(powerUp.type);\n        this.powerUps.splice(i, 1);\n        this.createParticles(powerUp.x, powerUp.y, powerUp.color, 15);\n        this.score += 250;\n        this.audioManager.playSound('powerUpCollect');\n      }\n    }\n  }\n\n  updateParticles() {\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      const particle = this.particles[i];\n      \n      particle.x += particle.vx;\n      particle.y += particle.vy;\n      particle.life -= particle.decay;\n      \n      if (particle.life <= 0) {\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  checkCollisions() {\n    for (let ball of this.balls) {\n      // Paddle collision\n      if (ball.y + ball.radius >= this.paddle.y &&\n          ball.x >= this.paddle.x &&\n          ball.x <= this.paddle.x + this.paddle.width &&\n          ball.speedY > 0) {\n        \n        const hitPos = (ball.x - (this.paddle.x + this.paddle.width / 2)) / (this.paddle.width / 2);\n        ball.speedX = hitPos * 5;\n        ball.speedY = -Math.abs(ball.speedY);\n        this.audioManager.playSound('paddleHit');\n      }\n      \n      // Brick collisions\n      for (let brick of this.bricks) {\n        if (!brick.visible) continue;\n        \n        if (ball.x >= brick.x &&\n            ball.x <= brick.x + brick.width &&\n            ball.y >= brick.y &&\n            ball.y <= brick.y + brick.height) {\n          \n          this.hitBrick(brick, ball);\n          break;\n        }\n      }\n    }\n  }\n\n  hitBrick(brick, ball) {\n    const bricksHit = [];\n    \n    // Check if ball has spike power-up (and it hasn't expired)\n    const hasSpike = ball.powerUps.spike && ball.powerUps.spike > Date.now();\n    \n    if (hasSpike) {\n      // Find up to 3 bricks in the direction of ball movement\n      bricksHit.push(brick);\n      \n      const direction = { x: Math.sign(ball.speedX), y: Math.sign(ball.speedY) };\n      let currentBrick = brick;\n      \n      // Find next 2 bricks in the movement direction\n      for (let i = 0; i < 2; i++) {\n        const nextBrick = this.findNextBrick(currentBrick, direction);\n        if (nextBrick && nextBrick.visible) {\n          bricksHit.push(nextBrick);\n          currentBrick = nextBrick;\n        } else {\n          break;\n        }\n      }\n    } else {\n      bricksHit.push(brick);\n    }\n    \n    // Process all hit bricks\n    bricksHit.forEach(hitBrick => {\n      hitBrick.visible = false;\n\n      // Add score with cavity bonus\n      let points = 100 * this.multiplier;\n      const ballInCavity = this.cavityBalls.has(ball) || this.cavityTimers.has(ball);\n      if (ballInCavity) {\n        points *= 2; // Double points for cavity shots!\n        console.log('Cavity shot! Double points!');\n      }\n      this.score += points;\n\n      this.combo++;\n      this.audioManager.playBrickBreak();\n      this.audioManager.playComboSound(this.combo);\n      \n      // Create particles (extra for cavity shots)\n      const particleCount = hasSpike ? 15 : (ballInCavity ? 15 : 10);\n      const particleColor = ballInCavity ? '#ffd700' : hitBrick.color; // Gold for cavity shots\n      this.createParticles(hitBrick.x + hitBrick.width / 2, hitBrick.y + hitBrick.height / 2, particleColor, particleCount);\n      \n      // Random power-up drop (only from first brick) - reduced spawn rate and limit total powerups\n      if (hitBrick === brick && Math.random() < 0.08 && this.powerUps.length < 2) {\n        this.createPowerUp(hitBrick.x + hitBrick.width / 2, hitBrick.y + hitBrick.height / 2);\n      }\n    });\n    \n    // Update multiplier\n    if (this.combo > 5) {\n      this.multiplier = Math.min(5, Math.floor(this.combo / 5) + 1);\n    }\n    \n    // Only reverse ball direction if not spiked or if it's the last brick in the chain\n    if (!hasSpike) {\n      ball.speedY = -ball.speedY;\n    }\n  }\n\n  checkGameState() {\n    const remainingBricks = this.bricks.filter(brick => brick.visible);\n    if (remainingBricks.length === 0) {\n      this.levelComplete();\n    }\n  }\n\n  levelComplete() {\n    this.level++;\n    this.combo = 0;\n    this.multiplier = 1;\n    \n    const levelBonus = this.level * 1000;\n    this.score += levelBonus;\n    this.audioManager.playSound('levelComplete');\n    \n    this.createBricks();\n    this.resetBall();\n  }\n\n  resetBall() {\n    const scale = Math.min(this.canvas.width, this.canvas.height) / 800;\n    this.ball.x = this.canvas.width / 2;\n    this.ball.y = this.canvas.height / 2;\n    this.ball.speedX = (Math.random() > 0.5 ? 1 : -1) * 2 * scale;\n    this.ball.speedY = -2 * scale;\n\n    // Reset ball power-ups\n    this.ball.powerUps = {};\n\n    // Reset paddle power-ups\n    this.paddle.powerUps = {};\n\n    // Reset paddle size to normal if it was widened\n    this.paddle.width = 120 * scale;\n\n    this.balls = [this.ball];\n  }\n\n  async gameOver() {\n    this.gameState = 'gameOver';\n    document.body.classList.remove('playing');\n    this.hideMobileControls();\n    this.audioManager.playSound('gameOver');\n    \n    // Check if it's a high score\n    if (this.highScoreManager.isHighScore(this.score)) {\n      const playerName = this.playerNameInput.value.trim() || 'OUTLAW';\n      const rank = this.highScoreManager.addHighScore(playerName, this.score, this.level);\n      \n      this.gameOverTitle.textContent = `NEW HIGH SCORE! RANK #${rank}`;\n      this.gameOverTitle.classList.add('win');\n      \n      // Update high scores display\n      this.displayHighScores();\n    } else {\n      this.gameOverTitle.textContent = 'GAME OVER';\n      this.gameOverTitle.classList.remove('win');\n    }\n    \n    this.gameOverScreen.classList.remove('hidden');\n    this.finalScoreElement.textContent = `Final Score: ${this.score.toLocaleString()}`;\n  }\n\n  createParticles(x, y, color, count = 10) {\n    for (let i = 0; i < count; i++) {\n      this.particles.push({\n        x: x,\n        y: y,\n        vx: (Math.random() - 0.5) * 8,\n        vy: (Math.random() - 0.5) * 8,\n        color: color,\n        size: Math.random() * 4 + 2,\n        life: 1,\n        decay: Math.random() * 0.02 + 0.01\n      });\n    }\n  }\n\n  createPowerUp(x, y) {\n    const types = ['dynamite', 'whiskey', 'horseshoe', 'boots', 'sheriff_badge'];\n    const colors = ['#8b4513', '#d2691e', '#c0c0c0', '#654321', '#ffd700'];\n    const typeIndex = Math.floor(Math.random() * types.length);\n    \n    this.powerUps.push({\n      x: x - 30, // Adjusted for larger powerup (half of 60)\n      y: y,\n      width: 60,  // 3 times larger (was 20), 1:1 aspect ratio\n      height: 60, // 3 times larger (was 20), 1:1 aspect ratio\n      type: types[typeIndex],\n      color: colors[typeIndex]\n    });\n  }\n\n  applyPowerUp(type) {\n    switch (type) {\n      case 'dynamite':\n        // Multi-ball explosion\n        if (this.balls.length < 5) {\n          const newBall = { ...this.ball };\n          newBall.speedX = -newBall.speedX;\n          // Inherit power-ups from the original ball\n          newBall.powerUps = { ...this.ball.powerUps };\n          this.balls.push(newBall);\n        }\n        break;\n      case 'whiskey':\n        // Makes paddle wider (liquid courage)\n        this.paddle.width *= 1.5;\n        break;\n      case 'boots':\n        // Speed boost (faster movement)\n        this.balls.forEach(ball => {\n          ball.speedX *= 1.5;\n          ball.speedY *= 1.5;\n        });\n        break;\n      case 'sheriff_badge':\n        // Gives ball destructive power (like spike)\n        this.balls.forEach(ball => {\n          ball.powerUps.spike = Date.now() + 10000; // 10 second timeout\n        });\n        this.audioManager.startSpikeMusic();\n        break;\n      case 'horseshoe':\n        // Lucky charm - slows things down\n        this.balls.forEach(ball => {\n          ball.speedX *= 0.5;\n          ball.speedY *= 0.5;\n        });\n        break;\n    }\n  }\n\n  updateUI() {\n    if (this.scoreElement) this.scoreElement.textContent = this.score.toLocaleString();\n    if (this.livesElement) this.livesElement.textContent = this.lives;\n    if (this.levelElement) this.levelElement.textContent = `LEVEL ${this.level}`;\n    if (this.comboElement) this.comboElement.textContent = this.combo;\n    if (this.multiplierElement) this.multiplierElement.textContent = `x${this.multiplier}`;\n  }\n\n  render() {\n    // Clear canvas\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Draw background image if loaded\n    if (this.backgroundImageLoaded) {\n      this.ctx.drawImage(this.backgroundImage, 0, 0, this.canvas.width, this.canvas.height);\n    } else {\n      // Fallback solid color background\n      this.ctx.fillStyle = '#2d1810';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    // Draw bricks (rough cut wood style)\n    for (let brick of this.bricks) {\n      if (brick.visible) {\n        this.drawWoodBrick(brick);\n      }\n    }\n\n    // Draw paddle\n    const gradient = this.ctx.createLinearGradient(\n      this.paddle.x, this.paddle.y,\n      this.paddle.x, this.paddle.y + this.paddle.height\n    );\n    gradient.addColorStop(0, '#deb887');\n    gradient.addColorStop(0.5, '#8b7355');\n    gradient.addColorStop(1, '#654321');\n    \n    this.ctx.fillStyle = gradient;\n    this.ctx.fillRect(this.paddle.x, this.paddle.y, this.paddle.width, this.paddle.height);\n\n    // Draw balls\n    for (let ball of this.balls) {\n      const hasSpike = ball.powerUps.spike && ball.powerUps.spike > Date.now();\n      \n      if (hasSpike) {\n        // Draw spiked ball\n        this.ctx.fillStyle = '#ff6600';\n        this.ctx.strokeStyle = '#ff3300';\n        this.ctx.lineWidth = 2;\n        \n        // Draw spikes around the ball\n        this.ctx.beginPath();\n        const spikes = 8;\n        for (let i = 0; i < spikes; i++) {\n          const angle = (i * Math.PI * 2) / spikes;\n          const innerX = ball.x + Math.cos(angle) * ball.radius * 0.7;\n          const innerY = ball.y + Math.sin(angle) * ball.radius * 0.7;\n          const outerX = ball.x + Math.cos(angle) * ball.radius * 1.3;\n          const outerY = ball.y + Math.sin(angle) * ball.radius * 1.3;\n          \n          if (i === 0) {\n            this.ctx.moveTo(innerX, innerY);\n          } else {\n            this.ctx.lineTo(innerX, innerY);\n          }\n          this.ctx.lineTo(outerX, outerY);\n        }\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        \n        // Draw inner ball\n        this.ctx.fillStyle = '#ffaa00';\n        this.ctx.beginPath();\n        this.ctx.arc(ball.x, ball.y, ball.radius * 0.6, 0, Math.PI * 2);\n        this.ctx.fill();\n      } else {\n        // Check if ball is in cavity or has active cavity timer for special glow effect\n        const inCavity = this.cavityBalls.has(ball) || this.cavityTimers.has(ball);\n\n        if (inCavity) {\n          // Draw golden glow for cavity balls\n          this.ctx.shadowBlur = 15;\n          this.ctx.shadowColor = '#ffd700';\n\n          const cavityGradient = this.ctx.createRadialGradient(\n            ball.x - ball.radius * 0.3, ball.y - ball.radius * 0.3, 0,\n            ball.x, ball.y, ball.radius\n          );\n          cavityGradient.addColorStop(0, '#fff700');\n          cavityGradient.addColorStop(0.4, '#ffd700');\n          cavityGradient.addColorStop(1, '#cc9900');\n\n          this.ctx.fillStyle = cavityGradient;\n        } else {\n          // Draw normal ball\n          const ballGradient = this.ctx.createRadialGradient(\n            ball.x - ball.radius * 0.3, ball.y - ball.radius * 0.3, 0,\n            ball.x, ball.y, ball.radius\n          );\n          ballGradient.addColorStop(0, '#c0c0c0');\n          ballGradient.addColorStop(0.4, '#808080');\n          ballGradient.addColorStop(1, '#404040');\n\n          this.ctx.fillStyle = ballGradient;\n        }\n\n        this.ctx.beginPath();\n        this.ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);\n        this.ctx.fill();\n\n        // Clear shadow effect\n        this.ctx.shadowBlur = 0;\n        this.ctx.shadowColor = 'transparent';\n      }\n    }\n\n    // Draw power-ups using Western icons\n    for (let powerUp of this.powerUps) {\n      this.ctx.save();\n\n      // Use icon if available, otherwise fallback to simple shape\n      const icon = this.powerUpIcons[powerUp.type];\n      if (icon && icon.complete) {\n        // Draw the Western icon\n        this.ctx.drawImage(icon, powerUp.x, powerUp.y, powerUp.width, powerUp.height);\n      } else {\n        // Fallback to colored circle\n        this.ctx.fillStyle = powerUp.color;\n        this.ctx.beginPath();\n        this.ctx.arc(powerUp.x + powerUp.width/2, powerUp.y + powerUp.height/2, powerUp.width/2, 0, Math.PI * 2);\n        this.ctx.fill();\n      }\n\n      this.ctx.restore();\n    }\n\n    // Draw particles\n    for (let particle of this.particles) {\n      this.ctx.globalAlpha = particle.life;\n      this.ctx.fillStyle = particle.color;\n      this.ctx.beginPath();\n      this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n      this.ctx.fill();\n    }\n    \n    this.ctx.globalAlpha = 1;\n  }\n\n  drawWoodBrick(brick) {\n    const ctx = this.ctx;\n    const { x, y, width, height, color } = brick;\n\n    // Create wood base color (darker version of the main color)\n    const woodColor = this.darkenColor(color, 0.3);\n\n    // Fill base with wood color\n    ctx.fillStyle = woodColor;\n    ctx.fillRect(x, y, width, height);\n\n    // Add wood grain texture with random lines\n    ctx.strokeStyle = this.darkenColor(woodColor, 0.2);\n    ctx.lineWidth = 0.5;\n    ctx.globalAlpha = 0.6;\n\n    // Draw horizontal wood grain lines\n    const grainLines = Math.floor(height / 3);\n    for (let i = 0; i < grainLines; i++) {\n      const lineY = y + (i + 1) * (height / (grainLines + 1));\n      const variance = Math.random() * 2 - 1; // Random variance for rough look\n\n      ctx.beginPath();\n      ctx.moveTo(x + 2, lineY + variance);\n\n      // Create wavy grain line\n      for (let px = 0; px <= width - 4; px += 4) {\n        const waveY = lineY + variance + Math.sin((px / width) * Math.PI * 2) * 0.5;\n        ctx.lineTo(x + 2 + px, waveY);\n      }\n      ctx.stroke();\n    }\n\n    ctx.globalAlpha = 1;\n\n    // Add paint overlay with worn edges\n    ctx.fillStyle = color;\n    ctx.globalAlpha = 0.7;\n\n    // Paint doesn't cover the entire brick (worn/chipped look)\n    const paintInset = 1;\n    ctx.fillRect(\n      x + paintInset,\n      y + paintInset,\n      width - paintInset * 2,\n      height - paintInset * 2\n    );\n\n    ctx.globalAlpha = 1;\n\n    // Add rough edges and weathering\n    ctx.strokeStyle = this.darkenColor(color, 0.4);\n    ctx.lineWidth = 1;\n\n    // Draw rough wooden edges\n    ctx.beginPath();\n\n    // Top edge (slightly uneven)\n    ctx.moveTo(x, y);\n    for (let i = 0; i <= width; i += 2) {\n      const roughness = Math.random() * 0.5;\n      ctx.lineTo(x + i, y + roughness);\n    }\n\n    // Right edge\n    for (let i = 0; i <= height; i += 2) {\n      const roughness = Math.random() * 0.5;\n      ctx.lineTo(x + width - roughness, y + i);\n    }\n\n    // Bottom edge\n    for (let i = width; i >= 0; i -= 2) {\n      const roughness = Math.random() * 0.5;\n      ctx.lineTo(x + i, y + height - roughness);\n    }\n\n    // Left edge\n    for (let i = height; i >= 0; i -= 2) {\n      const roughness = Math.random() * 0.5;\n      ctx.lineTo(x + roughness, y + i);\n    }\n\n    ctx.closePath();\n    ctx.stroke();\n\n    // Add nail holes or imperfections\n    if (Math.random() < 0.3) {\n      ctx.fillStyle = this.darkenColor(woodColor, 0.5);\n      const nailX = x + 2 + Math.random() * (width - 4);\n      const nailY = y + 2 + Math.random() * (height - 4);\n      ctx.beginPath();\n      ctx.arc(nailX, nailY, 0.5, 0, Math.PI * 2);\n      ctx.fill();\n    }\n\n    // Add highlight on top edge for 3D effect\n    ctx.strokeStyle = this.lightenColor(color, 0.3);\n    ctx.lineWidth = 1;\n    ctx.globalAlpha = 0.8;\n    ctx.beginPath();\n    ctx.moveTo(x + 1, y + 1);\n    ctx.lineTo(x + width - 1, y + 1);\n    ctx.stroke();\n\n    // Add shadow on bottom edge\n    ctx.strokeStyle = this.darkenColor(woodColor, 0.3);\n    ctx.beginPath();\n    ctx.moveTo(x + 1, y + height - 1);\n    ctx.lineTo(x + width - 1, y + height - 1);\n    ctx.stroke();\n\n    ctx.globalAlpha = 1;\n  }\n\n  darkenColor(color, factor) {\n    // Convert hex to RGB and darken\n    const hex = color.replace('#', '');\n    const r = Math.max(0, parseInt(hex.substr(0, 2), 16) * (1 - factor));\n    const g = Math.max(0, parseInt(hex.substr(2, 2), 16) * (1 - factor));\n    const b = Math.max(0, parseInt(hex.substr(4, 2), 16) * (1 - factor));\n\n    return `rgb(${Math.floor(r)}, ${Math.floor(g)}, ${Math.floor(b)})`;\n  }\n\n  lightenColor(color, factor) {\n    // Convert hex to RGB and lighten\n    const hex = color.replace('#', '');\n    const r = Math.min(255, parseInt(hex.substr(0, 2), 16) * (1 + factor));\n    const g = Math.min(255, parseInt(hex.substr(2, 2), 16) * (1 + factor));\n    const b = Math.min(255, parseInt(hex.substr(4, 2), 16) * (1 + factor));\n\n    return `rgb(${Math.floor(r)}, ${Math.floor(g)}, ${Math.floor(b)})`;\n  }\n\n  getGameState() {\n    return {\n      score: this.score,\n      lives: this.lives,\n      level: this.level,\n      combo: this.combo,\n      multiplier: this.multiplier,\n      gameState: this.gameState\n    };\n  }\n\n  displayHighScores() {\n    if (this.highScoresList) {\n      this.highScoresList.innerHTML = this.highScoreManager.generateHighScoresHTML();\n    }\n  }\n\n  initializeMobileControls() {\n    // Get mobile control elements\n    this.mobileControls = document.getElementById('mobileControls');\n    this.skipSongBtn = document.getElementById('skipSongBtn');\n\n    if (!this.mobileControls || !this.skipSongBtn) {\n      console.warn('Mobile control elements not found');\n      return;\n    }\n\n    // Show mobile controls only on mobile devices\n    if (GameConfig.MOBILE) {\n      // Skip song button functionality\n      this.skipSongBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.audioManager.playNextTrackManual();\n        this.audioManager.playSound('menuSelect');\n      });\n\n      this.skipSongBtn.addEventListener('touchstart', (e) => {\n        e.preventDefault();\n        this.audioManager.playNextTrackManual();\n        this.audioManager.playSound('menuSelect');\n      });\n    }\n  }\n\n  showMobileControls() {\n    if (GameConfig.MOBILE && this.mobileControls) {\n      this.mobileControls.classList.remove('hidden');\n    }\n  }\n\n  hideMobileControls() {\n    if (this.mobileControls) {\n      this.mobileControls.classList.add('hidden');\n    }\n  }\n\n  showHighScores() {\n    this.gameState = 'highScores';\n    this.startScreen.classList.add('hidden');\n    this.gameOverScreen.classList.add('hidden');\n    this.highScoresScreen.classList.remove('hidden');\n    this.displayHighScores();\n  }\n\n  hideHighScores() {\n    this.highScoresScreen.classList.add('hidden');\n    this.gameState = 'start';\n    this.startScreen.classList.remove('hidden');\n  }\n\n  findNextBrick(currentBrick, direction) {\n    const scale = Math.min(this.canvas.width, this.canvas.height) / 800;\n    const brickWidth = 75 * scale;\n    const brickHeight = 20 * scale;\n    const padding = 5 * scale;\n    \n    // Calculate approximate next brick position\n    const nextX = currentBrick.x + (direction.x * (brickWidth + padding));\n    const nextY = currentBrick.y + (direction.y * (brickHeight + padding));\n    \n    // Find brick at that position\n    return this.bricks.find(brick => \n      brick.visible &&\n      Math.abs(brick.x - nextX) < (brickWidth / 2) &&\n      Math.abs(brick.y - nextY) < (brickHeight / 2)\n    );\n  }\n\n}\n\nexport default KnockoffArcade;"],"names":["HighScoreManager","_classCallCheck","this","storageKey","maxScores","highScores","loadHighScores","key","value","stored","localStorage","getItem","JSON","parse","error","name","score","level","date","setItem","stringify","length","i","entry","substring","Date","toISOString","split","position","splice","slice","saveHighScores","_toConsumableArray","toLocaleString","_this","html","forEach","index","concat","formatScore","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","_typeof","toPrimitive","String","Number","_toPrimitive","AudioManager","sounds","Map","context","masterVolume","sfxVolume","musicVolume","musicVolumeReduced","voiceVolume","isInitialized","isMuted","userHasInteracted","hasPlayedFirstTrack","backgroundMusic","spikeMusic","currentMusic","musicGain","currentMusicSource","soundDefinitions","paddleHit","type","duration","volume","envelope","attack","decay","sustain","release","brickBreak1","frequency","brickBreak2","brickBreak3","powerUpCollect","startFreq","endFreq","ballLost","levelComplete","notes","gameOver","chords","combo3","formants","combo5","combo10","menuSelect","menuConfirm","_initializeAudio","_callee","AudioContextClass","_context","window","AudioContext","webkitAudioContext","masterGain","createGain","gain","connect","destination","_resumeContext","_callee2","_context2","state","resume","_playSound","_callee3","soundName","options","soundDef","now","_t","_args3","_context3","undefined","initializeAudio","resumeContext","currentTime","playGunshot","playSpittoon","playSaloonDoor","playWhistleDown","playHarmonica","playWesternChord","playYeehaw","playYeehawBig","playSpur","playWhinny","_x","startTime","createGunshotBang","createGunshotEcho","createRicochet","bufferSize","sampleRate","buffer","createBuffer","output","getChannelData","Math","exp","noise","random","crack","sin","PI","source","createBufferSource","filter","createBiquadFilter","gainNode","setValueAtTime","Q","exponentialRampToValueAtTime","start","delay","createDelay","feedback","wetGain","delayTime","echoOsc","createOscillator","echoGain","linearRampToValueAtTime","stop","oscillator","applyEnvelope","noteDuration","noteStartTime","createHarmonicaNote","fundamental","overtone1","overtone2","vibrato","vibratoGain","mixer","overtone1Gain","overtone2Gain","_this2","chordDuration","chord","chordIndex","chordStartTime","noteIndex","noteVolume","_this3","formant","formantVolume","_this4","baseFreq","createWhinnyCall","createWhinnyBreathe","createWhinnyTail","osc1","osc2","gainParam","maxVolume","sustainLevel","randomSound","floor","playSound","comboCount","_startBackgroundMusic","_callee4","_context4","musicFiles","currentTrackIndex","stopCurrentMusic","melody","playNextAudioTrack","_playNextAudioTrack","_callee5","_trackPath","response","arrayBuffer","audioBuffer","trackGain","isFirstTrack","trackDuration","_this5","_context5","trackPath","fetch","ok","Error","status","decodeAudioData","setTimeout","_this6","playMelodyInternal","note","playWesternMelodyNote","playWesternHarmony","harmonics","harmonicsGain","harmonyFreq","_this7","randomChord","westernChords","playAcousticGuitar","playUprigthBass","playBanjo","playFiddle","playSimpleDrums","playRandomChords","_this8","beatOffset","strumTime","isDownstroke","stringIndex","stringTime","_this9","bassNotes","bass","beatLength","beat","noteTime","pickingPattern","sixteenthNote","_this0","melodyNotes","noteLength","beatTime","playKickDrum","playSnare","playHiHat","melodyLength","chordNotes","getChordMelodyNotes","randomNote","playMelodyNote","push","rootFreq","freq","secondsPerBeat","playTripletLayer","playOffbeatLayer","playSixteenthLayer","playDrumLayer","playCymbalLayer","tripletDuration","totalTriplets","tripletNote","playPolyrhythmNote","numBeats","offbeatNote","sixteenthDuration","totalSixteenths","beatStartTime","eighth","eighthTime","playCrashCymbal","playRideCymbal","vibratoOsc","startBackgroundMusic","isMusicPaused","total","currentFile","replace","isPaused","max","min","unmute","mute","_playVoiceAudio","_callee6","voiceFile","voiceGain","voiceDuration","_this1","_args6","_context6","reduceMusicVolume","currentVoiceSource","restoreMusicVolume","onended","_x2","KnockoffArcade","canvas","document","getElementById","ctx","getContext","startScreen","gameOverScreen","scoreElement","livesElement","finalScoreElement","gameOverTitle","levelElement","multiplierElement","comboElement","comboDisplay","powerupDisplay","playerNameInput","startButton","querySelector","highScoresScreen","highScoresList","gameState","lives","combo","multiplier","balls","bricks","powerUps","particles","cavityBalls","Set","cavityTimers","originalSpeeds","keys","highScoreManager","displayHighScores","audioManager","musicStarted","backgroundImage","Image","src","powerUpIcons","loadPowerUpIcons","backgroundImageLoaded","onload","resizeCanvas","initializeGame","setupEventListeners","gameLoop","_init","canvasWidth","innerWidth","canvasHeight","innerHeight","visualViewport","width","height","GameConfig","MOBILE","screen","minDimension","CANVAS","MIN_DIMENSION","style","resizeTimeout","addEventListener","clearTimeout","scale","paddle","x","speed","ball","radius","speedX","speedY","createBricks","brickWidth","brickHeight","padding","cols","row","col","visible","hits","color","getBrickColor","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","powerUpType","iconFile","img","colors","startMusicOnInteraction","_ref","playVoiceAudio","code","preventDefault","trim","border","placeholder","startGame","resetGame","hideHighScores","activeElement","showHighScores","toggleMute","playNextTrackManual","rect","getBoundingClientRect","mouseX","clientX","left","TOUCH_ENABLED","passive","touches","touchX","setupStartButton","initializeMobileControls","updateButtonState","disabled","classList","remove","textContent","add","_ref2","_ref3","body","showMobileControls","gameStarted","lastTime","performance","pause","update","render","requestAnimationFrame","updatePaddle","updateBalls","updatePowerUps","updateParticles","checkCollisions","checkGameState","updateUI","ArrowLeft","KeyA","ArrowRight","KeyD","wasInCavity","has","isInCavity","createParticles","set","get","originalSpeed","resetBall","powerUp","applyPowerUp","particle","vx","vy","life","_step","_iterator","_createForOfIteratorHelper","s","hitPos","abs","_step2","_iterator2","brick","hitBrick","err","bricksHit","hasSpike","spike","direction","sign","currentBrick","nextBrick","findNextBrick","points","ballInCavity","playBrickBreak","playComboSound","particleCount","particleColor","createPowerUp","levelBonus","_gameOver","playerName","rank","hideMobileControls","isHighScore","addHighScore","count","size","types","typeIndex","newBall","_objectSpread","startSpikeMusic","clearRect","drawImage","fillStyle","fillRect","_step3","_iterator3","drawWoodBrick","gradient","createLinearGradient","addColorStop","_step4","_iterator4","strokeStyle","lineWidth","beginPath","angle","innerX","cos","innerY","outerX","outerY","moveTo","lineTo","closePath","fill","stroke","arc","shadowBlur","shadowColor","cavityGradient","createRadialGradient","ballGradient","_step5","_iterator5","save","icon","complete","restore","_step6","_iterator6","globalAlpha","woodColor","darkenColor","grainLines","lineY","variance","px","waveY","paintInset","roughness","nailX","nailY","lightenColor","factor","hex","parseInt","substr","g","b","innerHTML","generateHighScoresHTML","mobileControls","skipSongBtn","nextX","nextY","find"],"sourceRoot":""}