/*! For license information please see 243.05e10907179499fe44c2.js.LICENSE.txt */
"use strict";(self.webpackChunksuperbreakout_enterprise=self.webpackChunksuperbreakout_enterprise||[]).push([[243],{243:(t,e,i)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}i.r(e),i.d(e,{SuperBreakout:()=>S,default:()=>w});var h=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageKey="superbreakout_highscores",this.maxScores=10,this.highScores=this.loadHighScores()},(e=[{key:"loadHighScores",value:function(){try{var t=localStorage.getItem(this.storageKey);if(t)return JSON.parse(t)}catch(e){}return[{name:"Billy the Kid",score:5e4,level:10,date:"2024-01-01"},{name:"Jesse James",score:4e4,level:9,date:"2024-01-01"},{name:"Wyatt Earp",score:3e4,level:8,date:"2024-01-01"},{name:"Doc Holliday",score:25e3,level:7,date:"2024-01-01"},{name:"Wild Bill",score:2e4,level:6,date:"2024-01-01"},{name:"Calamity Jane",score:15e3,level:5,date:"2024-01-01"},{name:"Buffalo Bill",score:1e4,level:4,date:"2024-01-01"},{name:"Annie Oakley",score:7500,level:3,date:"2024-01-01"},{name:"Butch Cassidy",score:5e3,level:3,date:"2024-01-01"},{name:"Sundance Kid",score:2500,level:2,date:"2024-01-01"}]}},{key:"saveHighScores",value:function(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.highScores))}catch(t){}}},{key:"isHighScore",value:function(t){return this.highScores.length<this.maxScores||t>this.highScores[this.highScores.length-1].score}},{key:"getRank",value:function(t){for(var e=0;e<this.highScores.length;e++)if(t>this.highScores[e].score)return e+1;return this.highScores.length<this.maxScores?this.highScores.length+1:-1}},{key:"addHighScore",value:function(t,e,i){for(var r={name:t.substring(0,20),score:e,level:i,date:(new Date).toISOString().split("T")[0]},s=this.highScores.length,a=0;a<this.highScores.length;a++)if(e>this.highScores[a].score){s=a;break}return this.highScores.splice(s,0,r),this.highScores.length>this.maxScores&&(this.highScores=this.highScores.slice(0,this.maxScores)),this.saveHighScores(),s+1}},{key:"getHighScores",value:function(){return s(this.highScores)}},{key:"clearHighScores",value:function(){this.highScores=[],this.saveHighScores()}},{key:"formatScore",value:function(t){return t.toLocaleString()}},{key:"generateHighScoresHTML",value:function(){var t=this;if(0===this.highScores.length)return'<p style="text-align: center; color: #8b4513;">No high scores yet!</p>';var e='<table style="width: 100%; border-collapse: collapse;">';return e+='<thead><tr style="border-bottom: 2px solid #8b4513;">',e+='<th style="text-align: left; padding: 8px; color: #8b4513;">Rank</th>',e+='<th style="text-align: left; padding: 8px; color: #8b4513;">Name</th>',e+='<th style="text-align: right; padding: 8px; color: #8b4513;">Score</th>',e+='<th style="text-align: center; padding: 8px; color: #8b4513;">Level</th>',e+="</tr></thead><tbody>",this.highScores.forEach(function(i,r){e+='<tr style="border-bottom: 1px solid #deb887;">',e+='<td style="padding: 8px; color: #5d4037;">'.concat(0===r?"\ud83e\udd47":1===r?"\ud83e\udd48":2===r?"\ud83e\udd49":""," ").concat(r+1,"</td>"),e+='<td style="padding: 8px; color: #5d4037; font-weight: bold;">'.concat(i.name,"</td>"),e+='<td style="padding: 8px; text-align: right; color: #8b4513; font-weight: bold;">'.concat(t.formatScore(i.score),"</td>"),e+='<td style="padding: 8px; text-align: center; color: #5d4037;">'.concat(i.level,"</td>"),e+="</tr>"}),e+="</tbody></table>"}}])&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,i}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){d(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function d(t,e,i){return(e=b(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return p(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return n=t.done,t},e:function(t){o=!0,a=t},f:function(){try{n||null==i.return||i.return()}finally{if(o)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function y(){var t,e,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag";function a(i,r,s,a){var h=r&&r.prototype instanceof o?r:o,l=Object.create(h.prototype);return v(l,"_invoke",function(i,r,s){var a,o,h,l=0,c=s||[],u=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,i){return a=e,o=0,h=t,d.n=i,n}};function f(i,r){for(o=i,h=r,e=0;!u&&l&&!s&&e<c.length;e++){var s,a=c[e],f=d.p,p=a[2];i>3?(s=p===r)&&(h=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=f&&((s=i<2&&f<a[1])?(o=0,d.v=r,d.n=a[1]):f<p&&(s=i<3||a[0]>r||r>p)&&(a[4]=i,a[5]=r,d.n=p,o=0))}if(s||i>1)return n;throw u=!0,r}return function(s,c,p){if(l>1)throw TypeError("Generator is already running");for(u&&1===c&&f(c,p),o=c,h=p;(e=o<2?t:h)||!u;){a||(o?o<3?(o>1&&(d.n=-1),f(o,h)):d.n=h:d.v=h);try{if(l=2,a){if(o||(s="next"),e=a[s]){if(!(e=e.call(a,h)))throw TypeError("iterator result is not an object");if(!e.done)return e;h=e.value,o<2&&(o=0)}else 1===o&&(e=a.return)&&e.call(a),o<2&&(h=TypeError("The iterator does not provide a '"+s+"' method"),o=1);a=t}else if((e=(u=d.n<0)?h:i.call(r,d))!==n)break}catch(e){a=t,o=1,h=e}finally{l=1}}return{value:e,done:u}}}(i,s,a),!0),l}var n={};function o(){}function h(){}function l(){}e=Object.getPrototypeOf;var c=[][r]?e(e([][r]())):(v(e={},r,function(){return this}),e),u=l.prototype=o.prototype=Object.create(c);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,v(t,s,"GeneratorFunction")),t.prototype=Object.create(u),t}return h.prototype=l,v(u,"constructor",l),v(l,"constructor",h),h.displayName="GeneratorFunction",v(l,s,"GeneratorFunction"),v(u),v(u,s,"Generator"),v(u,r,function(){return this}),v(u,"toString",function(){return"[object Generator]"}),(y=function(){return{w:a,m:d}})()}function v(t,e,i,r){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}v=function(t,e,i,r){function a(e,i){v(t,e,function(t){return this._invoke(e,i,t)})}e?s?s(t,e,{value:i,enumerable:!r,configurable:!r,writable:!r}):t[e]=i:(a("next",0),a("throw",1),a("return",2))},v(t,e,i,r)}function g(t,e,i,r,s,a,n){try{var o=t[a](n),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,s)}function m(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var a=t.apply(e,i);function n(t){g(a,r,s,n,o,"next",t)}function o(t){g(a,r,s,n,o,"throw",t)}n(void 0)})}}function x(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var S=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById("gameCanvas"),this.ctx=this.canvas.getContext("2d"),this.startScreen=document.getElementById("startScreen"),this.gameOverScreen=document.getElementById("gameOver"),this.scoreElement=document.getElementById("scoreValue"),this.livesElement=document.getElementById("livesValue"),this.finalScoreElement=document.getElementById("finalScore"),this.gameOverTitle=document.getElementById("gameOverTitle"),this.levelElement=document.getElementById("levelValue"),this.multiplierElement=document.getElementById("multiplierValue"),this.comboElement=document.getElementById("comboValue"),this.comboDisplay=document.getElementById("comboDisplay"),this.powerupDisplay=document.getElementById("powerupDisplay"),this.playerNameInput=document.getElementById("playerName"),this.highScoresScreen=document.getElementById("highScoresScreen"),this.highScoresList=document.getElementById("highScoresList"),this.curtainContainer=document.getElementById("curtainContainer"),this.westernBackground=document.getElementById("westernBackground"),this.gameState="start",this.score=0,this.lives=10,this.level=1,this.combo=0,this.multiplier=1,this.balls=[],this.bricks=[],this.powerUps=[],this.particles=[],this.keys={},this.highScoreManager=new h,this.displayHighScores(),this.resizeCanvas(),this.initializeGame(),this.setupEventListeners(),this.gameLoop()},e=[{key:"init",value:function(){var t=m(y().m(function t(){return y().w(function(t){for(;;)if(0===t.n)return t.a(2,Promise.resolve())},t)}));return function(){return t.apply(this,arguments)}}()},{key:"resizeCanvas",value:function(){var t=this;this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,window.addEventListener("resize",function(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,t.initializeGame()})}},{key:"handleResize",value:function(){this.resizeCanvas()}},{key:"initializeGame",value:function(){var t=Math.min(this.canvas.width,this.canvas.height)/800;this.paddle={x:this.canvas.width/2-60*t,y:this.canvas.height-50*t,width:120*t,height:15*t,speed:8*t,powerUps:{}},this.ball={x:this.canvas.width/2,y:this.canvas.height/2,radius:12*t,speedX:2*t,speedY:-2*t,powerUps:{}},this.balls=[this.ball],this.createBricks()}},{key:"createBricks",value:function(){this.bricks=[];for(var t=Math.min(this.canvas.width,this.canvas.height)/800,e=75*t,i=20*t,r=5*t,s=Math.floor((this.canvas.width-2*r)/(e+r)),a=0;a<8;a++)for(var n=0;n<s;n++)this.bricks.push({x:r+n*(e+r),y:r+100*t+a*(i+r),width:e,height:i,visible:!0,hits:1,color:this.getBrickColor(a)})}},{key:"getBrickColor",value:function(t){var e=["#dc143c","#ff6600","#ffd700","#00ff7f","#00ffff","#8a2be2","#ff69b4","#deb887"];return e[t%e.length]}},{key:"setupEventListeners",value:function(){var t=this;document.addEventListener("keydown",function(e){t.keys[e.code]=!0,"Space"===e.code?(e.preventDefault(),"start"===t.gameState?t.startGame():"gameOver"===t.gameState?t.resetGame():"highScores"===t.gameState&&t.hideHighScores()):"KeyH"===e.code&&(e.preventDefault(),"gameOver"!==t.gameState&&"start"!==t.gameState||t.showHighScores())}),document.addEventListener("keyup",function(e){t.keys[e.code]=!1}),this.canvas.addEventListener("mousemove",function(e){if("playing"===t.gameState){var i=t.canvas.getBoundingClientRect(),r=e.clientX-i.left;t.paddle.x=r-t.paddle.width/2,t.paddle.x<0&&(t.paddle.x=0),t.paddle.x+t.paddle.width>t.canvas.width&&(t.paddle.x=t.canvas.width-t.paddle.width)}})}},{key:"startGame",value:function(){this.gameState="playing",this.startScreen.classList.add("hidden"),this.gameOverScreen.classList.add("hidden"),this.openCurtains(),this.start()}},{key:"resetGame",value:function(){var t=this;this.score=0,this.lives=10,this.level=1,this.combo=0,this.multiplier=1,this.closeCurtains(),setTimeout(function(){t.gameState="start",t.startScreen.classList.remove("hidden"),t.gameOverScreen.classList.add("hidden")},500),this.initializeGame()}},{key:"start",value:function(){this.gameStarted=!0,this.lastTime=performance.now()}},{key:"pause",value:function(){this.gameStarted=!1}},{key:"resume",value:function(){this.gameStarted=!0,this.lastTime=performance.now()}},{key:"togglePause",value:function(){this.gameStarted?this.pause():this.resume()}},{key:"gameLoop",value:function(){var t=this,e=performance.now();this.gameStarted&&(this.update(),this.render()),this.lastTime=e,requestAnimationFrame(function(){return t.gameLoop()})}},{key:"update",value:function(){"playing"===this.gameState&&(this.updatePaddle(),this.updateBalls(),this.updatePowerUps(),this.updateParticles(),this.checkCollisions(),this.checkGameState(),this.updateUI())}},{key:"updatePaddle",value:function(){(this.keys.ArrowLeft||this.keys.KeyA)&&this.paddle.x>0&&(this.paddle.x-=this.paddle.speed),(this.keys.ArrowRight||this.keys.KeyD)&&this.paddle.x<this.canvas.width-this.paddle.width&&(this.paddle.x+=this.paddle.speed)}},{key:"updateBalls",value:function(){for(var t=this.balls.length-1;t>=0;t--){var e=this.balls[t];e.x+=e.speedX,e.y+=e.speedY,(e.x<=e.radius||e.x>=this.canvas.width-e.radius)&&(e.speedX=-e.speedX),e.y<=e.radius&&(e.speedY=-e.speedY),e.y>=this.canvas.height-e.radius&&(this.balls.splice(t,1),this.createParticles(e.x,e.y,"#ff0000",10))}0===this.balls.length&&(this.lives--,this.lives<=0?this.gameOver():this.resetBall())}},{key:"updatePowerUps",value:function(){for(var t=this.powerUps.length-1;t>=0;t--){var e=this.powerUps[t];e.y+=2,e.y>this.canvas.height?this.powerUps.splice(t,1):e.x<this.paddle.x+this.paddle.width&&e.x+e.width>this.paddle.x&&e.y<this.paddle.y+this.paddle.height&&e.y+e.height>this.paddle.y&&(this.applyPowerUp(e.type),this.powerUps.splice(t,1),this.createParticles(e.x,e.y,e.color,15),this.score+=250)}}},{key:"updateParticles",value:function(){for(var t=this.particles.length-1;t>=0;t--){var e=this.particles[t];e.x+=e.vx,e.y+=e.vy,e.life-=e.decay,e.life<=0&&this.particles.splice(t,1)}}},{key:"checkCollisions",value:function(){var t,e=f(this.balls);try{for(e.s();!(t=e.n()).done;){var i=t.value;if(i.y+i.radius>=this.paddle.y&&i.x>=this.paddle.x&&i.x<=this.paddle.x+this.paddle.width&&i.speedY>0){var r=(i.x-(this.paddle.x+this.paddle.width/2))/(this.paddle.width/2);i.speedX=5*r,i.speedY=-Math.abs(i.speedY)}var s,a=f(this.bricks);try{for(a.s();!(s=a.n()).done;){var n=s.value;if(n.visible&&i.x>=n.x&&i.x<=n.x+n.width&&i.y>=n.y&&i.y<=n.y+n.height){this.hitBrick(n,i);break}}}catch(o){a.e(o)}finally{a.f()}}}catch(o){e.e(o)}finally{e.f()}}},{key:"hitBrick",value:function(t,e){var i=this,r=[],s=e.powerUps.spike;if(s){r.push(t);for(var a={x:Math.sign(e.speedX),y:Math.sign(e.speedY)},n=t,o=0;o<2;o++){var h=this.findNextBrick(n,a);if(!h||!h.visible)break;r.push(h),n=h}}else r.push(t);r.forEach(function(e){e.visible=!1,i.score+=100*i.multiplier,i.combo++,i.createParticles(e.x+e.width/2,e.y+e.height/2,e.color,s?15:10),e===t&&Math.random()<.3&&i.createPowerUp(e.x+e.width/2,e.y+e.height/2)}),this.combo>5&&(this.multiplier=Math.min(5,Math.floor(this.combo/5)+1)),s||(e.speedY=-e.speedY)}},{key:"checkGameState",value:function(){0===this.bricks.filter(function(t){return t.visible}).length&&this.levelComplete()}},{key:"levelComplete",value:function(){this.level++,this.combo=0,this.multiplier=1;var t=1e3*this.level;this.score+=t,this.createBricks(),this.resetBall()}},{key:"resetBall",value:function(){var t=Math.min(this.canvas.width,this.canvas.height)/800;this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.ball.speedX=2*(Math.random()>.5?1:-1)*t,this.ball.speedY=-2*t,this.balls=[this.ball]}},{key:"gameOver",value:function(){var t=m(y().m(function t(){var e,i;return y().w(function(t){for(;;)switch(t.n){case 0:this.gameState="gameOver",this.highScoreManager.isHighScore(this.score)?(e=this.playerNameInput.value.trim()||"OUTLAW",i=this.highScoreManager.addHighScore(e,this.score,this.level),this.gameOverTitle.textContent="NEW HIGH SCORE! RANK #".concat(i),this.gameOverTitle.classList.add("win"),this.displayHighScores()):(this.gameOverTitle.textContent="GAME OVER",this.gameOverTitle.classList.remove("win")),this.gameOverScreen.classList.remove("hidden"),this.finalScoreElement.textContent="Final Score: ".concat(this.score.toLocaleString());case 1:return t.a(2)}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"createParticles",value:function(t,e,i){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s=0;s<r;s++)this.particles.push({x:t,y:e,vx:8*(Math.random()-.5),vy:8*(Math.random()-.5),color:i,size:4*Math.random()+2,life:1,decay:.02*Math.random()+.01})}},{key:"createPowerUp",value:function(t,e){var i=["multi","wide","fast","slow","spike"],r=Math.floor(Math.random()*i.length);this.powerUps.push({x:t-10,y:e,width:20,height:20,type:i[r],color:["#ff0000","#00ff00","#0000ff","#ffff00","#ff6600"][r]})}},{key:"applyPowerUp",value:function(t){switch(t){case"multi":if(this.balls.length<5){var e=u({},this.ball);e.speedX=-e.speedX,e.powerUps=u({},this.ball.powerUps),this.balls.push(e)}break;case"wide":this.paddle.width*=1.5;break;case"fast":this.balls.forEach(function(t){t.speedX*=1.5,t.speedY*=1.5});break;case"spike":this.balls.forEach(function(t){t.powerUps.spike=!0});break;case"slow":this.balls.forEach(function(t){t.speedX*=.5,t.speedY*=.5})}}},{key:"updateUI",value:function(){this.scoreElement&&(this.scoreElement.textContent=this.score.toLocaleString()),this.livesElement&&(this.livesElement.textContent=this.lives),this.levelElement&&(this.levelElement.textContent="LEVEL ".concat(this.level)),this.comboElement&&(this.comboElement.textContent=this.combo),this.multiplierElement&&(this.multiplierElement.textContent="x".concat(this.multiplier))}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t,e=f(this.bricks);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.visible&&(this.ctx.fillStyle=i.color,this.ctx.fillRect(i.x,i.y,i.width,i.height),this.ctx.strokeStyle="#333",this.ctx.lineWidth=1,this.ctx.strokeRect(i.x,i.y,i.width,i.height))}}catch(G){e.e(G)}finally{e.f()}var r=this.ctx.createLinearGradient(this.paddle.x,this.paddle.y,this.paddle.x,this.paddle.y+this.paddle.height);r.addColorStop(0,"#deb887"),r.addColorStop(.5,"#8b7355"),r.addColorStop(1,"#654321"),this.ctx.fillStyle=r,this.ctx.fillRect(this.paddle.x,this.paddle.y,this.paddle.width,this.paddle.height);var s,a=f(this.balls);try{for(a.s();!(s=a.n()).done;){var n=s.value;if(n.powerUps.spike){this.ctx.fillStyle="#ff6600",this.ctx.strokeStyle="#ff3300",this.ctx.lineWidth=2,this.ctx.beginPath();for(var o=0;o<8;o++){var h=o*Math.PI*2/8,l=n.x+Math.cos(h)*n.radius*.7,c=n.y+Math.sin(h)*n.radius*.7,u=n.x+Math.cos(h)*n.radius*1.3,d=n.y+Math.sin(h)*n.radius*1.3;0===o?this.ctx.moveTo(l,c):this.ctx.lineTo(l,c),this.ctx.lineTo(u,d)}this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke(),this.ctx.fillStyle="#ffaa00",this.ctx.beginPath(),this.ctx.arc(n.x,n.y,.6*n.radius,0,2*Math.PI),this.ctx.fill()}else{var p=this.ctx.createRadialGradient(n.x-.3*n.radius,n.y-.3*n.radius,0,n.x,n.y,n.radius);p.addColorStop(0,"#c0c0c0"),p.addColorStop(.4,"#808080"),p.addColorStop(1,"#404040"),this.ctx.fillStyle=p,this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.radius,0,2*Math.PI),this.ctx.fill()}}}catch(G){a.e(G)}finally{a.f()}var y,v=f(this.powerUps);try{for(v.s();!(y=v.n()).done;){var g=y.value,m=g.x+g.width/2,x=g.y+g.height/2,b=g.width/2;switch(this.ctx.save(),g.type){case"spike":this.ctx.fillStyle=g.color,this.ctx.beginPath();for(var S=0;S<12;S++){var w=S*Math.PI/6,k=S%2===0?b:.6*b,P=m+Math.cos(w)*k,E=x+Math.sin(w)*k;0===S?this.ctx.moveTo(P,E):this.ctx.lineTo(P,E)}this.ctx.closePath(),this.ctx.fill(),this.ctx.fillStyle="#fff",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText("\u26a1",m,x+3);break;case"multi":this.ctx.fillStyle=g.color,this.ctx.beginPath(),this.ctx.arc(m,x,.8*b,0,2*Math.PI),this.ctx.fill(),this.ctx.fillStyle="#ff6666",this.ctx.beginPath(),this.ctx.arc(m-3,x-3,.5*b,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(m+3,x-3,.5*b,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(m,x+4,.5*b,0,2*Math.PI),this.ctx.fill();break;case"wide":this.ctx.fillStyle=g.color,this.ctx.fillRect(m-8,x-2,16,4),this.ctx.fillStyle="#66ff66",this.ctx.fillRect(m-6,x-4,12,2),this.ctx.fillRect(m-4,x-6,8,2),this.ctx.fillRect(m-6,x+2,12,2),this.ctx.fillRect(m-4,x+4,8,2),this.ctx.fillStyle="#fff",this.ctx.font="8px Arial",this.ctx.textAlign="center",this.ctx.fillText("\u2190\u2192",m,x+2);break;case"fast":this.ctx.fillStyle=g.color,this.ctx.beginPath(),this.ctx.moveTo(m,x-b),this.ctx.lineTo(m+b,x),this.ctx.lineTo(m,x+b),this.ctx.lineTo(m-b,x),this.ctx.closePath(),this.ctx.fill(),this.ctx.strokeStyle="#ffff66",this.ctx.lineWidth=2,this.ctx.beginPath();for(var O=0;O<3;O++){var M=-b-3-2*O;this.ctx.moveTo(m+M,x-3),this.ctx.lineTo(m+M+4,x-3),this.ctx.moveTo(m+M,x+3),this.ctx.lineTo(m+M+4,x+3)}this.ctx.stroke(),this.ctx.fillStyle="#fff",this.ctx.font="8px Arial",this.ctx.textAlign="center",this.ctx.fillText("\u26a1",m,x+2);break;case"slow":this.ctx.fillStyle=g.color,this.ctx.beginPath(),this.ctx.arc(m,x,.9*b,0,2*Math.PI),this.ctx.fill(),this.ctx.strokeStyle="#fff",this.ctx.lineWidth=1;for(var T=0;T<12;T++){var C=T*Math.PI*2/12,I=m+Math.cos(C)*b*.7,B=x+Math.sin(C)*b*.7,L=m+Math.cos(C)*b*.5,j=x+Math.sin(C)*b*.5;this.ctx.beginPath(),this.ctx.moveTo(I,B),this.ctx.lineTo(L,j),this.ctx.stroke()}this.ctx.strokeStyle="#fff",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(m,x),this.ctx.lineTo(m,x-.4*b),this.ctx.moveTo(m,x),this.ctx.lineTo(m+.3*b,x),this.ctx.stroke();break;default:this.ctx.fillStyle=g.color,this.ctx.fillRect(g.x,g.y,g.width,g.height)}this.ctx.restore()}}catch(G){v.e(G)}finally{v.f()}var H,A=f(this.particles);try{for(A.s();!(H=A.n()).done;){var U=H.value;this.ctx.globalAlpha=U.life,this.ctx.fillStyle=U.color,this.ctx.beginPath(),this.ctx.arc(U.x,U.y,U.size,0,2*Math.PI),this.ctx.fill()}}catch(G){A.e(G)}finally{A.f()}this.ctx.globalAlpha=1}},{key:"getGameState",value:function(){return{score:this.score,lives:this.lives,level:this.level,combo:this.combo,multiplier:this.multiplier,gameState:this.gameState}}},{key:"displayHighScores",value:function(){this.highScoresList&&(this.highScoresList.innerHTML=this.highScoreManager.generateHighScoresHTML())}},{key:"showHighScores",value:function(){this.gameState="highScores",this.startScreen.classList.add("hidden"),this.gameOverScreen.classList.add("hidden"),this.highScoresScreen.classList.remove("hidden"),this.displayHighScores()}},{key:"hideHighScores",value:function(){this.highScoresScreen.classList.add("hidden"),this.gameState="start",this.startScreen.classList.remove("hidden")}},{key:"findNextBrick",value:function(t,e){var i=Math.min(this.canvas.width,this.canvas.height)/800,r=75*i,s=20*i,a=5*i,n=t.x+e.x*(r+a),o=t.y+e.y*(s+a);return this.bricks.find(function(t){return t.visible&&Math.abs(t.x-n)<r/2&&Math.abs(t.y-o)<s/2})}},{key:"openCurtains",value:function(){this.curtainContainer&&this.curtainContainer.classList.add("opening")}},{key:"closeCurtains",value:function(){this.curtainContainer&&this.curtainContainer.classList.remove("opening")}}],e&&x(t.prototype,e),i&&x(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,i}();const w=S}}]);
//# sourceMappingURL=243.05e10907179499fe44c2.js.map