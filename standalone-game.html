<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§† GUNSLINGER'S BREAKOUT: WILD WEST SHOWDOWN üî´</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rye:wght@400&family=Creepster:wght@400&family=Butcherman:wght@400&family=New+Rocker:wght@400&family=Nosifer:wght@400&display=swap');
        
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(ellipse at center, rgba(101, 67, 33, 0.8), rgba(62, 39, 35, 0.9));
            font-family: 'Rye', 'New Rocker', 'Butcherman', serif;
            color: #deb887;
            overflow: hidden;
        }

        .game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        canvas {
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #8b7355 0%, #6b5b47 30%, #4a3728 60%, #2d1810 100%);
            display: block;
            border: 4px solid #654321;
        }

        .start-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #f4e4bc 0%, #e6d7b8 25%, #d4c5a9 50%, #c8b99c 75%, #b8a082 100%);
            padding: 50px 60px;
            border-radius: 8px;
            text-align: center;
            z-index: 20;
            border: 8px solid #8b4513;
            min-width: 500px;
            max-width: 600px;
        }

        .start-screen h1 {
            color: #8b4513;
            font-size: 48px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 0px #654321;
            font-weight: 900;
            letter-spacing: 2px;
            font-family: 'Butcherman', 'Rye', serif;
            text-transform: uppercase;
        }

        .start-screen h1 span {
            display: block;
            font-size: 0.6em;
            color: #a0522d !important;
            margin-top: 5px;
            font-family: 'Rye', serif;
            letter-spacing: 3px;
        }

        .start-screen p {
            font-size: 18px;
            margin: 15px 0;
            color: #5d4037;
            line-height: 1.5;
            text-shadow: 1px 1px 0px rgba(222, 184, 135, 0.8);
            font-family: 'Rye', serif;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .game-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
            pointer-events: none;
        }

        .score, .lives {
            background: linear-gradient(135deg, rgba(0, 20, 40, 0.95), rgba(0, 10, 30, 0.95));
            padding: 15px 25px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .score {
            color: #daa520;
            text-shadow: 0 0 10px #daa520;
        }

        .lives {
            color: #ff6600;
            text-shadow: 0 0 10px #ff6600;
        }

        .level-info {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(145deg, #f4e4bc, #e6d7b8);
            padding: 12px 25px;
            border-radius: 8px;
            border: 4px solid #8b4513;
            font-size: 16px;
            font-weight: bold;
            color: #5d4037;
            text-shadow: 1px 1px 0px rgba(222, 184, 135, 0.8);
            box-shadow: 0 0 0 2px #654321, 0 6px 12px rgba(139, 69, 19, 0.4);
            font-family: 'Butcherman', serif;
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; transform: scale(1.05); }
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #f4e4bc 0%, #e6d7b8 25%, #d4c5a9 50%, #c8b99c 75%, #b8a082 100%);
            padding: 50px 60px;
            border-radius: 8px;
            text-align: center;
            z-index: 20;
            border: 8px solid #8b4513;
            min-width: 500px;
            max-width: 600px;
        }

        .game-over h2 {
            color: #dc143c;
            font-size: 42px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px #8b4513, 0 0 15px rgba(220, 20, 60, 0.5);
            font-weight: 900;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="start-screen" id="startScreen">
            <h1>GUNSLINGER'S BREAKOUT<br><span>WILD WEST SHOWDOWN</span></h1>
            <p>‚Üí Use WASD or ARROW KEYS to aim ‚Üê</p>
            <p class="pulse">‚òÖ PRESS SPACE FOR SHOWDOWN! ‚òÖ</p>
        </div>
        
        <div class="game-over hidden" id="gameOver">
            <h2 id="gameOverTitle">GAME OVER</h2>
            <p id="finalScore">Final Score: 0</p>
            <p class="pulse">ü§† Press <strong>SPACE</strong> to saddle up again</p>
        </div>

        <div class="level-info">
            <span id="levelValue">LEVEL 1</span> ‚Ä¢ <span id="multiplierValue">x1</span>
        </div>

        <div class="game-ui">
            <div class="score">Score: <span id="scoreValue">0</span></div>
            <div class="lives">Lives: <span id="livesValue">3</span></div>
        </div>

        <canvas id="gameCanvas"></canvas>
    </div>

    <script>
        class SuperBreakout {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.startScreen = document.getElementById('startScreen');
                this.gameOverScreen = document.getElementById('gameOver');
                this.scoreElement = document.getElementById('scoreValue');
                this.livesElement = document.getElementById('livesValue');
                this.finalScoreElement = document.getElementById('finalScore');
                this.levelElement = document.getElementById('levelValue');
                this.multiplierElement = document.getElementById('multiplierValue');

                this.gameState = 'start';
                this.score = 0;
                this.lives = 10;
                this.level = 1;
                this.combo = 0;
                this.multiplier = 1;
                this.balls = [];
                this.bricks = [];
                this.powerUps = [];
                this.particles = [];
                this.keys = {};

                this.resizeCanvas();
                this.initializeGame();
                this.setupEventListeners();
                this.gameLoop();
            }

            resizeCanvas() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                
                window.addEventListener('resize', () => {
                    this.canvas.width = window.innerWidth;
                    this.canvas.height = window.innerHeight;
                    this.initializeGame();
                });
            }

            initializeGame() {
                const scale = Math.min(this.canvas.width, this.canvas.height) / 800;
                
                this.paddle = {
                    x: this.canvas.width / 2 - 60 * scale,
                    y: this.canvas.height - 50 * scale,
                    width: 120 * scale,
                    height: 15 * scale,
                    speed: 8 * scale,
                    powerUps: {}
                };

                this.ball = {
                    x: this.canvas.width / 2,
                    y: this.canvas.height / 2,
                    radius: 12 * scale,
                    speedX: 2 * scale,
                    speedY: -2 * scale,
                    powerUps: {}
                };

                this.balls = [this.ball];
                this.createBricks();
            }

            createBricks() {
                this.bricks = [];
                const scale = Math.min(this.canvas.width, this.canvas.height) / 800;
                const brickWidth = 75 * scale;
                const brickHeight = 20 * scale;
                const padding = 5 * scale;
                const rows = 8;
                const cols = Math.floor((this.canvas.width - padding * 2) / (brickWidth + padding));
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        this.bricks.push({
                            x: padding + col * (brickWidth + padding),
                            y: padding + 100 * scale + row * (brickHeight + padding),
                            width: brickWidth,
                            height: brickHeight,
                            visible: true,
                            hits: 1,
                            color: this.getBrickColor(row)
                        });
                    }
                }
            }

            getBrickColor(row) {
                const colors = ['#dc143c', '#ff6600', '#ffd700', '#00ff7f', '#00ffff', '#8a2be2', '#ff69b4', '#deb887'];
                return colors[row % colors.length];
            }

            setupEventListeners() {
                document.addEventListener('keydown', (e) => {
                    this.keys[e.code] = true;
                    
                    if (e.code === 'Space') {
                        e.preventDefault();
                        if (this.gameState === 'start') {
                            this.startGame();
                        } else if (this.gameState === 'gameOver') {
                            this.resetGame();
                        }
                    }
                });

                document.addEventListener('keyup', (e) => {
                    this.keys[e.code] = false;
                });

                this.canvas.addEventListener('mousemove', (e) => {
                    if (this.gameState === 'playing') {
                        const rect = this.canvas.getBoundingClientRect();
                        const mouseX = e.clientX - rect.left;
                        this.paddle.x = mouseX - this.paddle.width / 2;
                        
                        if (this.paddle.x < 0) this.paddle.x = 0;
                        if (this.paddle.x + this.paddle.width > this.canvas.width) {
                            this.paddle.x = this.canvas.width - this.paddle.width;
                        }
                    }
                });
            }

            startGame() {
                this.gameState = 'playing';
                this.startScreen.classList.add('hidden');
                this.gameOverScreen.classList.add('hidden');
                this.gameStarted = true;
            }

            resetGame() {
                this.score = 0;
                this.lives = 10;
                this.level = 1;
                this.combo = 0;
                this.multiplier = 1;
                this.initializeGame();
                this.startGame();
            }

            gameLoop() {
                if (this.gameStarted) {
                    this.update();
                    this.render();
                }
                
                requestAnimationFrame(() => this.gameLoop());
            }

            update() {
                if (this.gameState !== 'playing') return;

                this.updatePaddle();
                this.updateBalls();
                this.updatePowerUps();
                this.updateParticles();
                this.checkCollisions();
                this.checkGameState();
                this.updateUI();
            }

            updatePaddle() {
                if (this.keys.ArrowLeft || this.keys.KeyA) {
                    if (this.paddle.x > 0) {
                        this.paddle.x -= this.paddle.speed;
                    }
                }
                if (this.keys.ArrowRight || this.keys.KeyD) {
                    if (this.paddle.x < this.canvas.width - this.paddle.width) {
                        this.paddle.x += this.paddle.speed;
                    }
                }
            }

            updateBalls() {
                for (let i = this.balls.length - 1; i >= 0; i--) {
                    const ball = this.balls[i];
                    
                    ball.x += ball.speedX;
                    ball.y += ball.speedY;
                    
                    if (ball.x <= ball.radius || ball.x >= this.canvas.width - ball.radius) {
                        ball.speedX = -ball.speedX;
                    }
                    if (ball.y <= ball.radius) {
                        ball.speedY = -ball.speedY;
                    }
                    
                    if (ball.y >= this.canvas.height - ball.radius) {
                        this.balls.splice(i, 1);
                        this.createParticles(ball.x, ball.y, '#ff0000', 10);
                    }
                }
                
                if (this.balls.length === 0) {
                    this.lives--;
                    if (this.lives <= 0) {
                        this.gameOver();
                    } else {
                        this.resetBall();
                    }
                }
            }

            updatePowerUps() {
                for (let i = this.powerUps.length - 1; i >= 0; i--) {
                    const powerUp = this.powerUps[i];
                    powerUp.y += 2;
                    
                    if (powerUp.y > this.canvas.height) {
                        this.powerUps.splice(i, 1);
                        continue;
                    }
                    
                    if (powerUp.x < this.paddle.x + this.paddle.width &&
                        powerUp.x + powerUp.width > this.paddle.x &&
                        powerUp.y < this.paddle.y + this.paddle.height &&
                        powerUp.y + powerUp.height > this.paddle.y) {
                        
                        this.applyPowerUp(powerUp.type);
                        this.powerUps.splice(i, 1);
                        this.createParticles(powerUp.x, powerUp.y, powerUp.color, 15);
                        this.score += 250;
                    }
                }
            }

            updateParticles() {
                for (let i = this.particles.length - 1; i >= 0; i--) {
                    const particle = this.particles[i];
                    
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    particle.life -= particle.decay;
                    
                    if (particle.life <= 0) {
                        this.particles.splice(i, 1);
                    }
                }
            }

            checkCollisions() {
                for (let ball of this.balls) {
                    if (ball.y + ball.radius >= this.paddle.y &&
                        ball.x >= this.paddle.x &&
                        ball.x <= this.paddle.x + this.paddle.width &&
                        ball.speedY > 0) {
                        
                        const hitPos = (ball.x - (this.paddle.x + this.paddle.width / 2)) / (this.paddle.width / 2);
                        ball.speedX = hitPos * 5;
                        ball.speedY = -Math.abs(ball.speedY);
                    }
                    
                    for (let brick of this.bricks) {
                        if (!brick.visible) continue;
                        
                        if (ball.x >= brick.x &&
                            ball.x <= brick.x + brick.width &&
                            ball.y >= brick.y &&
                            ball.y <= brick.y + brick.height) {
                            
                            this.hitBrick(brick, ball);
                            break;
                        }
                    }
                }
            }

            hitBrick(brick, ball) {
                brick.visible = false;
                ball.speedY = -ball.speedY;
                
                this.score += 100 * this.multiplier;
                this.combo++;
                
                if (this.combo > 5) {
                    this.multiplier = Math.min(5, Math.floor(this.combo / 5) + 1);
                }
                
                this.createParticles(brick.x + brick.width / 2, brick.y + brick.height / 2, brick.color, 10);
                
                if (Math.random() < 0.3) {
                    this.createPowerUp(brick.x + brick.width / 2, brick.y + brick.height / 2);
                }
            }

            checkGameState() {
                const remainingBricks = this.bricks.filter(brick => brick.visible);
                if (remainingBricks.length === 0) {
                    this.levelComplete();
                }
            }

            levelComplete() {
                this.level++;
                this.combo = 0;
                this.multiplier = 1;
                
                const levelBonus = this.level * 1000;
                this.score += levelBonus;
                
                this.createBricks();
                this.resetBall();
            }

            resetBall() {
                const scale = Math.min(this.canvas.width, this.canvas.height) / 800;
                this.ball.x = this.canvas.width / 2;
                this.ball.y = this.canvas.height / 2;
                this.ball.speedX = (Math.random() > 0.5 ? 1 : -1) * 3 * scale;
                this.ball.speedY = -3 * scale;
                this.balls = [this.ball];
            }

            gameOver() {
                this.gameState = 'gameOver';
                this.gameOverScreen.classList.remove('hidden');
                this.finalScoreElement.textContent = `Final Score: ${this.score.toLocaleString()}`;
            }

            createParticles(x, y, color, count = 10) {
                for (let i = 0; i < count; i++) {
                    this.particles.push({
                        x: x,
                        y: y,
                        vx: (Math.random() - 0.5) * 8,
                        vy: (Math.random() - 0.5) * 8,
                        color: color,
                        size: Math.random() * 4 + 2,
                        life: 1,
                        decay: Math.random() * 0.02 + 0.01
                    });
                }
            }

            createPowerUp(x, y) {
                const types = ['multi', 'wide', 'fast'];
                const colors = ['#ff0000', '#00ff00', '#0000ff'];
                const typeIndex = Math.floor(Math.random() * types.length);
                
                this.powerUps.push({
                    x: x - 10,
                    y: y,
                    width: 20,
                    height: 20,
                    type: types[typeIndex],
                    color: colors[typeIndex]
                });
            }

            applyPowerUp(type) {
                switch (type) {
                    case 'multi':
                        if (this.balls.length < 5) {
                            const newBall = { ...this.ball };
                            newBall.speedX = -newBall.speedX;
                            this.balls.push(newBall);
                        }
                        break;
                    case 'wide':
                        this.paddle.width *= 1.5;
                        setTimeout(() => { this.paddle.width /= 1.5; }, 10000);
                        break;
                    case 'fast':
                        this.balls.forEach(ball => {
                            ball.speedX *= 1.5;
                            ball.speedY *= 1.5;
                        });
                        setTimeout(() => {
                            this.balls.forEach(ball => {
                                ball.speedX /= 1.5;
                                ball.speedY /= 1.5;
                            });
                        }, 10000);
                        break;
                }
            }

            updateUI() {
                if (this.scoreElement) this.scoreElement.textContent = this.score.toLocaleString();
                if (this.livesElement) this.livesElement.textContent = this.lives;
                if (this.levelElement) this.levelElement.textContent = `LEVEL ${this.level}`;
                if (this.multiplierElement) this.multiplierElement.textContent = `x${this.multiplier}`;
            }

            render() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                for (let brick of this.bricks) {
                    if (brick.visible) {
                        this.ctx.fillStyle = brick.color;
                        this.ctx.fillRect(brick.x, brick.y, brick.width, brick.height);
                        
                        this.ctx.strokeStyle = '#333';
                        this.ctx.lineWidth = 1;
                        this.ctx.strokeRect(brick.x, brick.y, brick.width, brick.height);
                    }
                }

                const gradient = this.ctx.createLinearGradient(
                    this.paddle.x, this.paddle.y,
                    this.paddle.x, this.paddle.y + this.paddle.height
                );
                gradient.addColorStop(0, '#deb887');
                gradient.addColorStop(0.5, '#8b7355');
                gradient.addColorStop(1, '#654321');
                
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(this.paddle.x, this.paddle.y, this.paddle.width, this.paddle.height);

                for (let ball of this.balls) {
                    const ballGradient = this.ctx.createRadialGradient(
                        ball.x - ball.radius * 0.3, ball.y - ball.radius * 0.3, 0,
                        ball.x, ball.y, ball.radius
                    );
                    ballGradient.addColorStop(0, '#c0c0c0');
                    ballGradient.addColorStop(0.4, '#808080');
                    ballGradient.addColorStop(1, '#404040');
                    
                    this.ctx.fillStyle = ballGradient;
                    this.ctx.beginPath();
                    this.ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                    this.ctx.fill();
                }

                for (let powerUp of this.powerUps) {
                    this.ctx.fillStyle = powerUp.color;
                    this.ctx.fillRect(powerUp.x, powerUp.y, powerUp.width, powerUp.height);
                }

                for (let particle of this.particles) {
                    this.ctx.globalAlpha = particle.life;
                    this.ctx.fillStyle = particle.color;
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    this.ctx.fill();
                }
                
                this.ctx.globalAlpha = 1;
            }
        }

        // Start the game when the page loads
        window.addEventListener('load', () => {
            new SuperBreakout();
        });
    </script>
</body>
</html>